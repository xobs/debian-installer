# bootfloppy supplies only the kernel.
MEDIUM_SUPPORTED = nativehd floppy bootfloppy

# The version of the kernel to use.
KERNELMAJOR = 2.4
KERNELVERSION = 2.4.26-$(SUBARCH)
KERNEL_FLAVOUR = di
KERNELIMAGEVERSION = $(KERNELVERSION)
KERNELNAME = $(foreach ver,$(KERNELVERSION),vmlinuz-$(ver))

VERSIONED_SYSTEM_MAP = t

EXTRAS = console-keymaps-$(SUBARCH)

# atari-bootstrap stuff

.PHONY: bootstra.prg
bootstra.prg: /usr/share/atari-bootstrap/ataboot.ttp.gz 
	mkdir -p $(SOME_DEST)
	gzip -cd $< > $(SOME_DEST)/$@
	./update-manifest $(SOME_DEST)/$@ "m68k atari bootstrap program"

.PHONY: bootstra-bootp.prg
bootstra-bootp.prg: /usr/share/atari-bootstrap/ataboot-bootp.ttp.gz 
	mkdir -p $(SOME_DEST)
	gzip -cd $< > $(SOME_DEST)/$@
	./update-manifest $(SOME_DEST)/$@ "m68k atari bootstrap with bootp program"

.PHONY: bootargs
bootargs:
	mkdir -p $(SOME_DEST)
	cp boot/m68k/atari-bootargs-cdrom $(SOME_DEST)/$@
	./update-manifest $(SOME_DEST)/$@ "m68k atari bootstrap settings"

.PHONY: rawwrite.ttp
rawwrite.ttp: /usr/share/atari-bootstrap/rawwrite.ttp.gz 
	mkdir -p $(SOME_DEST)
	gzip -cd $< > $(SOME_DEST)/$@
	./update-manifest $(SOME_DEST)/$@ "m68k atari floppy writing program"

