<!-- <chapter id="translators-level3"><title>Translating &d-i; - Level 3</title> -->

<sect1 id="translators-level3">
<title>
Level 3
</title>

<sect2>
<title>
Contents
</title>

<para>
The level 3 of translations groups together the components of the
installation process which are not always used. These steps are
optional steps and do no occur on default installs.
</para>

<para>All packages which interact with users during second stage optional
steps are considered part of the level 3 of the &d-i; localization.
</para>

<para>This includes the following Debian packages:

	    <itemizedlist>
	      <listitem>
		<para>
		  aptitude
		</para>
	      </listitem>
	      <listitem>
		<para>
		  xdebconfigurator
		</para>
	      </listitem>
	      <listitem>
		<para>
		  localization-config
		</para>
	      </listitem>
	      <listitem>
		<para>
		  console-common
		</para>
	      </listitem>
	      <listitem>
		<para>
		  dictionaries-common
		</para>
	      </listitem>
	    </itemizedlist>
</para>

</sect2>

<sect2>
<title>
aptitude
</title>

<sect3>
<title>
Package description
</title>

<para>
The <classname>aptitude</classname> program is an combination of
interactive and non-interactive tools for installing Debian
packages. For long-time users of Debian, it may be seen as the
replacement for both <command>dselect</command> and
<command>apt-get</command>.
</para>

<para>It is used from <classname>base-config</classname> when packages
are installed. It is also used interactively when the user chooses the
option for installing individual packages of his/her choice.
</para>

<para>The program uses a text-based menu system when used interactively and
includes a lot of output messages when it is run non-interactively.
</para>

<para>
<classname>aptitude</classname>'s full translation is a huge work
because there are hundreds of strings in the POT file. Moreover, this
requires some good knowledge of several Debian package managements
concepts. It is recommended that this translation is handled by an
experienced Debian system administrator.
</para>

</sect3>

<sect3>
<title>
Files location and access methods
</title>

<para>
This package is a <quote>regular</quote> Debian package. The
package maintainer uses a <acronym>darcs</acronym> repository for the program development
(the Debian package is handled in a separate <acronym>SVN</acronym> repository).
</para>

<itemizedlist>
  <listitem>
    <para>
      <acronym>darcs</acronym> access: &darcs-aptitude;, directory <filename>po</filename> (anonymous access)
    </para>
  </listitem>
  <listitem>
    <para>
      <acronym>HTTP</acronym> access: 
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <ulink url="&url-level3-pot;/aptitude_po.pot">&url-level3-pot;/aptitude_po.pot</ulink>
        </para>
      </listitem>
      <listitem>
        <para>
          &url-level3-po;,/aptitude_po_&language;.po
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
</itemizedlist>

</sect3>

<sect3>
<title>
Updating/Adding translations
</title>

<para>
Translations should be reported as bugs against the
<classname>aptitude</classname> package.
</para>

</sect3>

<sect3>
<title>
Specific recommendations
</title>

<para>Without any doubt, <classname>aptitude</classname>'s translation
is among the most difficult translations involved in &d-i;
translation. It has an impact far outside &d-i; because
<classname>aptitude</classname> is likely to be used all along the
life of a Debian system.
</para>

<para>
Several strings in <classname>aptitude</classname> PO file are menu
entries, pseudo dialog boxes text and all such limited size
material. The source code is not very widely commented to help out
translators.
</para>

<para>
The ideal way to translate aptitude is by recompiling the software and
include the translation to be tested. Compiling aptitude requires
usual build tools and software as well as a few dedicated libraries
such as <classname>apt</classname> libraries.
</para>

<para><classname>Aptitude</classname> also includes a small help file, which may be
translated as well. However, this translation does not use GNU
gettext, so the translation is quite tricky. See the
<filename>help*</filename> files in <classname>aptitude</classname>'s source tree.
</para>

<para><classname>Aptitude</classname>'s documentation may also be
translated. See the <filename>doc/</filename> directory in the
package's source tree.
</para>

<para>Translators should be aware that <classname>aptitude</classname>
is still under heavy development, so upstream strings are very likely
to change or be added. Anyway, even a partial translation will help the
users of a given language.
</para>

<para>

The aptitude maintainer has written a special
<filename>README.i18n</filename> file to give more details to
translators. The contents of this file follows, as of the day of this
documentation was written.
</para>

<para>
<classname>Aptitude</classname> uses the standard gettext mechanism for translations.  However,
there are a few twists that you should be aware of.
</para>

<sect4>
<title>
External data files
</title>

<para>
    There are several external data files that you can choose to
    translate: <filename>help.txt</filename> (online help), <filename>help-mine.txt</filename> (online help for
    Minesweeper), and <filename>aptitude.xml</filename> (user's manual/online manual).
    <filename>aptitude.xml</filename> is a large file, but <filename>help.txt</filename> and <filename>help-mine.txt</filename> are
    quite tractable and it is recommended that you translate
    them. (especially <filename>help.txt</filename>)
</para>

<para>
    aptitude applies gettext to the file names before loading them, so
    to tell it that you've translated (eg) <filename>help.txt</filename> to <filename>help-de.txt</filename>,
    you should add a translation "help.txt" -> "help-de.txt".
</para>

<para>
    In addition, each translated file name has a corresponding
    described translation (see below) indicating its encoding.  You
    should translate this as necessary if you write an alternate file.
</para>
</sect4>

<sect4>
<title>Manpage</title>

<para>
    <classname>aptitude</classname> has a manpage, and it can be translated; if you choose to
    translate it, your translation should be named <filename>aptitude.XX.1</filename>
    (replace XX with the language code)
</para>

</sect4>
<sect4>
<title>fragf</title>

<para>
    <classname>aptitude</classname> uses an internal function called fragf to format text
    with display attributes.  This function works somewhat like
    printf, but most escape codes have different meanings.  For
    instance, %B enables the "bold" character attribute, while %b
    disables it.  See src/vscreen/fragment.h for a full description of
    all escape codes.  You can use parameter numbers (eg, %1$F) if
    your language needs to reorder the arguments.
</para>

</sect4>
<sect4>
<title>Key translations</title>

<para>
    Where it makes sense, <classname>aptitude</classname> allows the default keybinding
    assigned to a command to be translated.  This is done by creating
    a dummy translated string ending in "_key"; the first character of
    the string is the default binding of the key.  For instance, the
    string "yes_key" is used to set the default binding for buttons
    labelled "Yes".  To bind "j" to this command, you could translate
    "yes_key" to "ja_key", "ja", or even just "j".
</para>

</sect4>
<sect4>
<title>Described translations</title>

<para>
    Some translations have descriptions or disambiguating text to the
    left of the input and output string.  In these cases, everything
    up to and including the first pipe character will be removed
    before the string is used.  If no pipe character is present in the
    string, the string will be used without modifications.

    For instance, the string "help.txt encoding|UTF-8" can be
    translated to either "help.txt encoding|ISO-8859-1",
    "|ISO-8859-1", or "ISO-8859-1", and will have the same effect in
    each case.
</para>
</sect4>


</sect3>

</sect2>

<sect2>
<title>
Xdebconfigurator
</title>

<sect3>
<title>
Package description
</title>

<para>
The <classname>xdebconfigurator</classname> package is a tool aimed at
automatic configuration of the X-Window server component (most often
when users choose the installation of the <quote>desktop</quote> task.
</para>

<para>
It is called from <classname>base-config</classname> when the
installed system includes a X Window System server software.
</para>

<para>
The only translatable string is the package description, used as a menu
entry in <classname>base-config</classname>.
</para>

</sect3>

<sect3>
<title>
Files location and access methods
</title>

<para>
The xdebconfigurator package is maintained by the Debian-Edu project
maintainers and is part of Debian-Edu's <acronym>SVN</acronym> repository.
</para>

<itemizedlist>
  <listitem>
    <para>
      <acronym>SVN</acronym> access: &svn-xdebconfigurator;, <filename>debian/po</filename> directory
    </para>
  </listitem>
  <listitem>
    <para>
      <acronym>HTTP</acronym> access: 
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <ulink url="&url-level3-pot;/xdebconfigurator_debian_po_templates.pot">&url-level3-pot;/xdebconfigurator_debian_po_templates.pot</ulink>
        </para>
      </listitem>
      <listitem>
        <para>
          &url-level3-po;/xdebconfigurator_debian_po_&language;.po
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
</itemizedlist>

</sect3>

<sect3>
<title>
Updating/Adding translations
</title>

<para>
Translations should be reported as bugs against the
<classname>xdebconfigurator</classname> package.
</para>

</sect3>

<sect3>
<title>
Specific recommendations
</title>

<para>
The translatable part only includes the
<classname>base-config</classname> menu entry. It must be kept short:
below 70 columns.
</para>

</sect3>

</sect2>

<sect2>
<title>
Localization-config
</title>

<sect3>
<title>
Package description
</title>

<para>
The localization-config package is a tool aimed at automatic
configuration of locales-related settings in several packages, most
often desktop-related packages. It also configures the X-Window
keyboard settings.
</para>

<para>It is called from <classname>base-config</classname> except in
the case the installed system has no localization at all.
</para>

<para>
The only translatable string is the package description, used as a menu
entry in <classname>base-config</classname>.
</para>

</sect3>

<sect3>
<title>
Files location and access methods
</title>

<para>
The localization-config package is maintained by the Debian-Edu
project maintainers and is part of Debian-Edu's <acronym>SVN</acronym> repository.
</para>

<itemizedlist>
  <listitem>
    <para>
      <acronym>SVN</acronym> access: &svn-localization-config;, <filename>debian/po</filename> directory
    </para>
  </listitem>
  <listitem>
    <para>
      <acronym>HTTP</acronym> access: 
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <ulink url="&url-level3-pot;/localization-config_debian_po.pot">&url-level3-pot;/localization-config_debian_po.pot</ulink>
        </para>
      </listitem>
      <listitem>
        <para>
          &url-level3-po;/localization-config_debian_po_&language;.po
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
</itemizedlist>

</sect3>

<sect3>
<title>
Updating/Adding translations
</title>

<para>
Translations should be reported as bugs against the
<classname>localization-config</classname> package.
</para>

</sect3>

<sect3>
<title>
Specific recommendations
</title>

<para>
The translatable part only includes the
<classname>base-config</classname> menu entry. It must be kept short:
below 70 columns.
</para>


</sect3>

<sect3>
<title>
Contribute to language/locale support in <classname>localization-config</classname>
</title>

<para>
As <classname>localization-config</classname> pre-configures several
packages for locales-related settings, translators should help its
maintainer to adjust settings for their language. See <xref
linkend="localization-config"/> for details.
</para>

</sect3>

</sect2>

<sect2>
<title>
Console-common
</title>

<sect3>
<title>
Package description
</title>

<para>
The <classname>console-common</classname> package includes all tools
for handling the console (input and output).
</para>

<para>
It is installed and configured as part of the Debian base system. Its
configuration process involves some user input and may be shown to
users during a base system install, in some occasions (but not
always).
</para>

</sect3>

<sect3>
<title>
Files location and access methods
</title>

<para>
</para>

<itemizedlist>
  <listitem>
    <para>
      <acronym>SVN</acronym> access: &svn-console-common;, <filename>debian/po</filename> directory
    </para>
  </listitem>
  <listitem>
    <para>
      <acronym>HTTP</acronym> access: 
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <ulink url="&url-level3-pot;/console-common_debian_po.pot">&url-level3-pot;/console-common_debian_po.pot</ulink>
        </para>
      </listitem>
      <listitem>
        <para>
          &url-level3-po;/console-common_debian_po_&language;.po
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
</itemizedlist>

</sect3>

<sect3>
<title>
Updating/Adding translations
</title>

<para>
Translations should be reported as bugs against the
<classname>console-common</classname> package.
</para>

</sect3>

<sect3>
<title>
Specific recommendations
</title>

<para>
N/A
</para>

</sect3>

</sect2>

<sect2>
<title>
dictionaries-common
</title>

<sect3>
<title>
Package description
</title>

<para>
The <classname>dictionaries-common</classname> package includes all
common tools for using word dictionaries in Debian.
</para>

<para>
It is installed and configured as part of the Debian base system. Its
configuration process inputs the user for choosing a word dictionary
when the installation is run at <emphasis>medium</emphasis> priority (using the <emphasis>expert</emphasis>
mode of install...or when some problem occurred earlier in the
installation process).
</para>

</sect3>

<sect3>
<title>
Files location and access methods
</title>

<para>
This package is a <quote>regular</quote> Debian package. The
package maintainer currently does no use any <acronym>CVS</acronym> or <acronym>SVN</acronym> repository.
</para>


<itemizedlist>
<listitem>
<para>
<acronym>HTTP</acronym> access: 
</para>
<itemizedlist>
<listitem>
<para>
          <ulink url="&url-level3-pot;/dictionaries-common_debian_po.pot">&url-level3-pot;/dictionaries-common_debian_po.pot</ulink>
</para>
</listitem>
<listitem>
<para>
&url-level3-po;/dictionaries-common_debian_po_&language;.po
</para>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>

</sect3>

<sect3>
<title>
Updating/Adding translations
</title>

<para>
Translations should be reported as bugs against the <classname>dictionaries-common</classname> package.
</para>

</sect3>

<sect3>
<title>
Specific recommendations
</title>

<para>
N/A
</para>

</sect3>

</sect2>

</sect1>


<!-- </chapter> -->
