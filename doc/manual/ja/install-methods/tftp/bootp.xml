<?xml version="1.0" encoding="EUC-JP"?>
<!-- retain these comments for translator revision tracking -->
<!-- original version: 16879 -->


  <sect2 condition="supports-bootp" id="tftp-bootp">
  <title>BOOTP サーバの設定</title>
<para>

<!--
There are two BOOTP servers available for GNU/Linux, the CMU
<command>bootpd</command> and the other is actually a DHCP server, ISC
<command>dhcpd</command>, which are contained in the
<classname>bootp</classname> and <classname>dhcp</classname> packages
in &debian;.
-->
GNU/Linux で使える BOOTP サーバは二つあります。
CMU の <command>bootpd</command> と、もう一つは実際には DHCP サーバなのですが、
ISC の <command>dhcpd</command> です。それぞれ &debian; では
<classname>bootp</classname> パッケージと <classname>dhcp</classname> 
パッケージに入っています。

</para><para>

<!--
To use CMU <command>bootpd</command>, you must first uncomment (or
add) the relevant line in <filename>/etc/inetd.conf</filename>.  On
&debian;, you can run <userinput>update-inetd -\-enable
bootps</userinput>, then <userinput>/etc/init.d/inetd
reload</userinput> to do so. Elsewhere, the line in question should
look like: 
-->
CMU <command>bootpd</command> を使う場合は、まず <filename>/etc/inetd.conf</filename> ファイルの
該当行をアンコメント (または追加) する必要があります。
&debian; では <userinput>update-inetd --enable bootps</userinput> を実行し、
続いて <userinput>/etc/init.d/inetd reload</userinput> とすれば OK です。
この行は次のようなものです。

<informalexample><screen>

bootps  dgram  udp  wait  root  /usr/sbin/bootpd  bootpd -i -t 120

</screen></informalexample>

</para><para>
<!--
Now, you must create an <filename>/etc/bootptab</filename> file.  This
has the same sort of familiar and cryptic format as the good old BSD
<filename>printcap</filename>, <filename>termcap</filename>, and
<filename>disktab</filename> files.  See the
<filename>bootptab</filename> manual page for more information.  For
CMU <command>bootpd</command>, you will need to know the hardware
(MAC) address of the client.  Here is an example
<filename>/etc/bootptab</filename>:
-->
ここで次に <filename>/etc/bootptab</filename> を作成します。
このファイルの書式は、
<filename>printcap</filename>, <filename>termcap</filename>, 
<filename>disktab</filename> ファイルなどでお馴染みの、
例のわかりにくい形式になっています。
詳細は <filename>bootptab</filename> マニュアルページを見てください。
CMU <command>bootpd</command> では、
クライアントのハードウェア (MAC) アドレスを知っておかなければなりません。
<filename>/etc/bootptab</filename> の例を示します。

<informalexample><screen>

client:\
  hd=/tftpboot:\
  bf=tftpboot.img:\
  ip=192.168.1.90:\
  sm=255.255.255.0:\
  sa=192.168.1.1:\
  ha=0123456789AB:

</screen></informalexample>

<!--
You will need to change at least the "ha" option, which specifies the
hardware address of the client.  The "bf" option specifies the file a
client should retrieve via TFTP; see 
<xref linkend="tftp-images"/> for more details.
-->
少なくともクライアントのハードウェアアドレスを指定している
"ha" オプションは変更する必要があるでしょう。
"bf" オプションはクライアントが TFTP で取得するファイルを指定しています。
詳細は <xref linkend="tftp-images"/> を参照してください。

<phrase arch="mips"> 
<!--
On SGI Indys you can just enter the command monitor and type
<userinput>printenv</userinput>.  The value of the
<userinput>eaddr</userinput> variable is the machine's MAC address.
-->
SGI Indy では、コマンドモニタから <userinput>printenv</userinput> と入力してください。
<userinput>eaddr</userinput> 変数がマシンの MAC アドレスです。
</phrase>

</para><para>

<!--
By contrast, setting up BOOTP with ISC <command>dhcpd</command> is
really easy, because it treats BOOTP clients as a moderately special
case of DHCP clients.  Some architectures require a complex
configuration for booting clients via BOOTP.  If yours is one of
those, read the section <xref linkend="dhcpd"/>.  Otherwise, you
will probably be able to get away with simply adding the
<userinput>allow bootp</userinput> directive to the configuration
block for the subnet containing the client, and restart
<command>dhcpd</command> with <userinput>/etc/init.d/dhcpd
restart</userinput>.
-->
対照的に、ISC <command>dhcpd</command> を使っての BOOTP の設定は実に簡単です。
<command>dhcpd</command> では、BOOTP クライアントは
やや特殊な DHCP クライアントとして取り扱われます。
アーキテクチャによっては、BOOTP によるクライアントの起動には
複雑な設定が必要になります。
これに該当してしまったら、<xref linkend="dhcpd"/> の節を読んでください。
該当しないアーキテクチャでは、
クライアントの含まれるサブネットの設定ブロックに
<userinput>allow bootp</userinput> というディレクティブを追加し、
<userinput>/etc/init.d/dhcpd restart</userinput> で
<command>dhcpd</command> を再起動するだけです。

</para>
  </sect2>
