<?xml version="1.0" encoding="EUC-JP"?>
<!-- retain these comments for translator revision tracking -->
<!-- original version: 28672 -->

 <sect1 id="automatic-install">
 <title>自動インストール</title>
<para>

<!--
For installing on multiple computers it's possible to do fully
automatic installations. Debian packages intended for this include
<classname>fai</classname> (which uses an install server),
<classname>replicator</classname>,
<classname>systemimager</classname>,
<classname>autoinstall</classname>, and
the Debian Installer itself.
-->
複数のコンピュータにインストールするため、完全自動インストールが可能です。
このための Debian パッケージは、
<classname>fai</classname> (インストールサーバを使う場合),
<classname>replicator</classname>,
<classname>systemimager</classname>,
<classname>autoinstall</classname>,
それに Debian インストーラそのものです。

</para>

  <sect2 id="preseed">
  <title>Debian インストーラを用いた自動インストール</title>
<para>

<!--
The Debian Installer supports automating installs via preconfiguration
files. A preconfiguration file can be loaded from the network or from
removable media, and used to fill in answers to question asked during the
installation process.
-->
Debian インストーラは、
preconfiguration ファイルによる自動インストールをサポートしています。
preconfiguration ファイルは、ネットワークやリムーバブルメディアから読み込まれ、
インストール中の質問に対する回答を、埋めていくのに使われます。
</para><para>

<!--
Although most dialogs used by &d-i; can be preseeded using this method,
there are some notable exceptions. You can (re)partition an entire disk
or use available free space on a disk; it is not possible to use existing
partitions. You currently cannot use preseeding to set up RAID and LVM.
<phrase condition="sarge">Also, with the exception of network driver modules,
it is not possible to preconfigure kernel module parameters.</phrase>
-->
&d-i; で使用するほとんどの質問は、この方法であらかじめ設定できますが、
いくつかの例外があります。
ディスク全体のパーティション (再) 分割や、ディスクの空き領域は利用できますが、
すでにあるパーティションの利用はできません。
現在、RAID や LVM のセットアップは、あらかじめ設定できません。
<phrase condition="sarge">また、ネットワークドライバモジュール以外の
カーネルモジュールパラメータをあらかじめ設定できません。</phrase>

</para><para>

<!--
The preconfiguration file is in the format used by the
debconf-set-selections command. A well documented and working example that
you can edit is in <xref linkend="example-preseed"/>.
-->
preconfiguration ファイルは、
debconf-set-selections コマンドで使用される形式のファイルです。
編集できるよく説明されていて動作するサンプルは、
<xref linkend="example-preseed"/> にあります。

</para><para>

<!--
Alternatively, one way to get a complete file listing
all the values that can be preseeded is to do a manual install,
and then use <filename>debconf-get-selections</filename>,
from the <classname>debconf-utils</classname> package,
to dump both the debconf database and the cdebconf
database in /var/log/debian-installer/cdebconf to a single file:
-->
また、あらかじめ設定するすべての値を記述した完全なファイルを得るには、
マニュアルインストールを行ったあとに、
<filename>debconf-get-selections</filename> 
(<classname>debconf-utils</classname> パッケージ) 
を使用して debconf データベースと
 cdebconf データベース (/var/log/debian-installer/cdebconf にある) を、
以下のようにひとつのファイルにダンプします。

<informalexample><screen>
$ debconf-get-selections --installer &gt; <replaceable>file</replaceable>
$ debconf-get-selections &gt;&gt; <replaceable>file</replaceable>
</screen></informalexample>

<!--
However, a file generated in this manner will have some items that should
not be preseeded, and the file in <xref linkend="example-preseed"/> is a
better starting place for most users.
-->
しかしこの方法で生成したファイルでは、
いくつかの項目が設定されない可能性があります。
そのためほとんどのユーザにとっては、取っかかりとして、
<xref linkend="example-preseed"/> にあるファイルの方がよいでしょう。

</para><para>

<!--
Once you have a preconfiguration file, you can edit it if necessary, and
place it on a web server, or copy it onto the installer's boot media. Wherever
you place the file, you need to pass a parameter to the installer at boot
time to tell it to use the file.
-->
preconfiguration ファイルがあれば、これをお好みに編集したうえで、
web サーバに配置したり、インストーラの起動メディアにコピーできます。
配置した場所ならどこでも、このファイルを起動時にインストーラに読み込ませるよう
パラメータに渡す必要があります。

</para><para>

<!--
To make the installer use a preconfiguration file downloaded from the
network, add preseed/url=http://url/to/preseed.cfg to the kernel boot
parameters. Of course the preconfiguration will not take effect until the
installer manages to set up the network to download the file, so this is
most useful if the installer can set up the network via DHCP without asking
any questions. You may want to set the installation priority to critical to
avoid any questions while the network is being configured. See
<xref linkend="installer-args"/>.
-->
ネットワークからダウンロードした preconfiguration ファイルを、
インストーラに使うようにさせるには、
カーネルの起動パラメータに preseed/url=http://url/to/preseed.cfg と追加します。
もちろん、
インストーラがネットワークをセットアップし preconfiguration ファイルを
ダウンロードするまで、preconfiguration は効果を現しません。
そのため、インストーラが全く質問せずに、
DHCP でネットワークをセットアップできるときに最も有用になります。
ネットワーク設定中にまったく質問が出なくなるように、
インストール優先度を「重要」に設定したいと思うかもしれません。
<xref linkend="installer-args"/> をご覧ください。

</para><para>

<!--
To place a preconfiguration file on a CD, you would need to remaster the
ISO image to include your preconfiguration file. See the manual page for
mkisofs for details. Alternatively, put the preseed file on a floppy, and
use preseed/file=/floppy/preseed.cfg
-->
CD に preconfiguration ファイルを置くために、
preconfiguration ファイルを含む ISO イメージのマスターを、
新たに作る必要があるでしょう。
詳細は mkisofs のマニュアルを参照してください。
また、フロッピーに preseed ファイルを置いて、
preseed/file=/floppy/preseed.cfg とすることもできます。
</para><para arch="i386">

<!--
If you'll be booting from a USB memory stick, then you can simply copy your
preconfiguration file onto the memory stick's filesystem, and edit the
syslinux.cfg file to add preseed/file=/hd-media/preseed.cfg to the kernel boot
parameters.
-->
USB メモリスティックから起動するのであれば、
単にメモリスティックのファイルシステムに preconfiguration ファイルをコピーし、
カーネル起動パラメータに preseed/file=/hd-media/preseed.cfg を加えるよう、
syslinux.cfg ファイルを編集できます。

</para>

   <sect3 condition="etch">
<!--
   <title>Using Preseeding to Change Default Values</title>
-->
   <title>デフォルト値の変更に preseed を利用する</title>
<para>

<!--
It is also possible to use preseeding to change the default answer for a
question, but still have the question asked. To do this the
<firstterm>seen</firstterm> flag must be reset to <quote>false</quote> after
setting the value for a template.
-->
質問に対するデフォルトの回答を変更するのに、preseed を利用できますが、
依然として質問が表示されます。
これに対処するためには、テンプレートの値を設定したあとに 
<firstterm>seen</firstterm> フラグを <quote>false</quote> 
としてリセットしてください。

<informalexample><screen>
d-i foo/bar string value
d-i foo/bar seen false
</screen></informalexample>

</para>
   </sect3>
  </sect2>
 </sect1>
