<!-- retain these comments for translator revision tracking -->
<!-- original version: 28672 -->

 <sect1 id="automatic-install">
 <title>Instal·lació automàtica</title>
<para>

Si heu d'instal·lar a molts ordinadors, és possible fer instal·lacions
completament automatitzades. Els paquets dels que es disposa a Debian
per fer-ho són:
<classname>fai</classname> (que utilitza un servidor d'instal·lació),
<classname>replicator</classname>,
<classname>systemimager</classname>,
<classname>autoinstall</classname>, i el mateix instal·lador de Debian.

</para>

  <sect2 id="preseed">
  <title>Instal·lació automàtica utilitzant l'instal·lador de Debian</title>
<para>

L'instal·lador de Debian suporta l'automatització de la instal·lació
utilitzant fitxers de preconfiguració. Es pot carregar un fitxer de
preconfiguració des de la xarxa o des d'un mitjà extraïble, i el que
fa és emplenar amb respostes totes les preguntes fetes al procés
d'instal·lació.

</para><para>

Malgrat que els diàlegs utilitzats pel &d-i; es poden precarregar
utilitzant aquest mètode, hi ha algunes excepcions. Podeu (re)particionar
un disc complet o utilitzar l'espai buit a un disc, però no és possible
utilitzar les particions que ja teniu. En aquest moment no podeu
precarregar les opcions de configuració de RAID i LVM.
<phrase condition="sarge">A més a més, amb l'excepció dels mòduls dels
controladors de xarxa, no és possible preconfigurar els paràmetres dels
mòduls del nucli.
</phrase>

</para><para>

El fitxer de preconfiguració està en el format que utilitza l'ordre
«debconf-set-selections». Podeu trobar un exemple ben documentat i funcional
que podeu editar a <xref linkend="example-preseed"/>.

</para><para>

D'altra banda, una forma d'aconseguir un fitxer amb una llista completa amb
tots els valors que poden ser precarregats, és fer una instal·lació
manual, i aleshores utilitzar <filename>debconf-get-selections</filename>,
del paquet <classname>debconf-utils</classname>, per abocar les bases de
dades de debconf i cdebconf que està a /var/log/debian-installer/cdebconf
a un sol fitxer:

<informalexample><screen>
$ debconf-get-selections --installer &gt; <replaceable>fitxer</replaceable>
$ debconf-get-selections &gt;&gt; <replaceable>fitxer</replaceable>
</screen></informalexample>

Però un fitxer generat d'aquesta manera, tindrà també alguns valors que no
haurien de ser precarregats, i el fitxer <xref linkend="example-preseed"/>
és un millor punt de partida per la majoria dels usuaris.

</para><para>

Quan estigui preparat el fitxer de preconfiguració, podeu editar-lo si ho
necessiteu, i podeu posar-lo a un servidor web, o copiar-lo a un mitjà
d'instal·lació. A qualsevol lloc que poseu el fitxer, necessitareu passar-li
un paràmetre a l'instal·lador en el moment de l'arrencada per dir-li que
utilitze el fitxer.

</para><para>

Per fer que l'instal·lador utilitze un fitxer de preconfiguració baixant-lo
de la xarxa, afegiu preseed/url=http://url/to/preseed.cfg als paràmetres
d'arrencada del nucli. Per suposat, el fitxer de preconfiguració no tindrà
efecte fins que es configure la xarxa per descarregar el fitxer, així que és
més normal si l'instal·lador pot configurar la xarxa per DHCP sense fer cap
pregunta. Si voleu, podeu configurar la prioritat d'instal·lació a «critical»
per evitar les preguntes fins que la xarxa estigui configurada. Vegeu
<xref linkend="installer-args"/>.

</para><para>

Per posar el fitxer de preconfiguració a un CD, necessitaríeu remasteritzar
la imatge ISO per incloure el fitxer de preconfiguració. Vegeu els detalls
a la pàgina del manual de mkisofs. De forma alternativa, poseu el fitxer de
preconfiguració a un disquet, i utilitzeu preseed/file=/floppy/preseed.cfg.

</para><para arch="i386">

Si arrenqueu des d'un llapis de memòria USB, aleshores podeu copiar el fitxer
de preconfiguració al llapis de memòria i editar el fitxer syslinux.cfg per
afegir preseed/file=/hd-media/preseed.cfg als paràmetres d'arrencada del
nucli.

</para>

   <sect3 condition="etch">
   <title>Utilització de precàrrega per canviar els valors predeterminats</title>
<para>

És possible utilitzar les precàrregues per canviar les respostes
predeterminades a les preguntes, però tot i així haver-les de respondre.
Per fer-ho, la marca <firstterm>seen</firstterm> ha de posar-se a
<quote>false</quote> desprès de definir el valor a la plantilla.

<informalexample><screen>
d-i foo/bar string value
d-i foo/bar seen false
</screen></informalexample>

</para>
   </sect3>
  </sect2>
 </sect1>
