<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- original version: 24663 -->
<!-- actualizado por rudy, 5 diciembre 2004 -->
<!-- revisado jfs, 6 diciembre 2004 -->

 <sect1 id="automatic-install">
 <title>Instalación automática</title>
<para>

Es posible efectuar instalaciones totalmente automáticas
para instalaciones en múltiples ordenadores. Los paquetes de Debian disponibles
para este propósito son:
<classname>fai</classname> (que usa un servidor de instalación),
<classname>replicator</classname>,
<classname>systemimager</classname>,
<classname>autoinstall</classname> y el
mismo instalador de Debian.

</para>

<sect2>
<title>Utilizar el instalador de Debian para realizar una instalación automática</title>

<para>
El instalador de Debian soporta instalaciones automatizadas a través
de ficheros de preconfiguración. Puede cargar un fichero de
preconfiguración bien utilizando la red o bien utilizando medios
extraíbles y hacer uso de éste para responder a las preguntas que se
formulan durante el proceso de instalación.

</para><para>

El fichero de preconfiguración usa el mismo formato que
la orden «debconf-set-selections». Encontrará un ejemplo que funciona, muy bien
documentado y que puede utilizar para editarlo a su gusto en la
<xref linkend="example-preseed"/>.

</para><para>

Otra forma de obtener un fichero completo
que liste todos los valores que pueden ser preconfigurados de antemano,
es efectuar una instalación manual y luego usar
la orden <filename>debconf-get-selections</filename>, incluida en el
paquete <classname>debconf-utils</classname>. Para
volcar tanto la base de datos de debconf como la base de datos de cdebconf (en
/var/log/debian-installer/cdebconf) a un solo fichero puede usar:

<informalexample><screen>
$ debconf-get-selections --installer &gt; <replaceable>fichero</replaceable>
$ debconf-get-selections &gt;&gt;  <replaceable>fichero</replaceable>
</screen></informalexample>

Sin embargo, un fichero generado de esta manera tendrá algunos
elementos que no deben ser preconfigurados. Para la mayoría de los
usuarios el fichero en la <xref linkend="example-preseed"/> es un punto
de partida mejor.

</para><para>

Una vez que tenga un fichero de preconfiguración, puede editarlo, en
caso de que sea necesario, y colocarlo en un servidor web, o copiarlo
en el medio de instalación del instalador. Necesitará indicar al
instalador durante el arranque, a través de un parámetro, la ubicación
de este fichero para que lo utilice.


</para><para>

Añada «preseed/url=http://url/a/preseed.cfg» a los parámetros de
arranque del núcleo para que el instalador use un fichero de
preconfiguración descargado desde la red. Obviamente la
preconfiguración no tendrá efecto hasta que el instalador consiga
configurar la red para descargar el fichero, esta configuración es más útil
si el instalador puede configurar la red a través de DHCP sin formular
preguntas. Podría querer definir la prioridad de la instalación a
«critical» para evitar cualquier pregunta mientras se configura la
red. Consulte la <xref linkend="installer-args"/>.

</para><para>

Necesitará remasterizar la imagen ISO para incluir su fichero de
preconfiguración si quiere colocar un fichero de preconfiguración en
un CD.  Para más información consulte la página de manual de
«mkisofs». También puede poner el fichero de preconfiguración en un
disquete y usar el parámetro «preseed/file=/floppy/preseed.cfg»

</para><para arch="i386">

Si va a arrancar desde un dispositivo de memoria USB, puede
simplemente copiar su fichero de preconfiguración en el sistema de
ficheros de este medio, editar el fichero «syslinux.cfg» y añadir
«preseed/file=/hd-media/preseed.cfg» a los parámetros de arranque del
núcleo.

</para>
</sect2>
 </sect1>
