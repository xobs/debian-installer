<?xml version="1.0" encoding="ISO-8859-2"?>
<!-- $Id$ -->
<!-- original version: 18383 -->

   <sect3 id="mdcfg">
   <title>Nastavení vícediskových zaøízení (Softwarový RAID)</title>
<para>

Jestli¾e máte ve svém poèítaèi více ne¾ jeden pevný
disk<footnote><para>

Ve skuteènosti mù¾ete MD vytvoøit i z oblastí le¾ících na jednom
fyzickém disku, ale nezískáte tím ¾ádnou popisovanou výhodu.

</para></footnote>, mù¾ete vyu¾ít této skuteènosti nastavit disky pro
vìt¹í výkon a/nebo pro vìt¹í bezpeènost dat. Výsledek se nazývá
<firstterm>Vícediskové zaøízení - MD</firstterm> (nebo podle své
nejznámìj¹í varianty <firstterm>softwarový RAID</firstterm>).

</para><para>

Jednodu¹e øeèeno je MD mno¾ina oblastí umístìných na rùzných
discích. Tyto oblasti se v <command>mdcfg</command> spojí dohromady
a vytvoøí <emphasis>logické</emphasis> zaøízení. Toto zaøízení pak
mù¾ete pou¾ívat jako bì¾nou oblast (napøíklad
v <command>partman</command>u ji mù¾ete zformátovat, pøiøadit jí
pøípojný bod atd.).

</para><para>

Co vám tato operace pøinese závisí na typu vícediskového zaøízení,
které vytváøíte. Momentálnì jsou podporovány:

<variablelist>
<varlistentry>

<term>RAID0</term><listitem><para>

Je hlavnì zamìøen na rychlost. RAID0 rozdìlí v¹echna pøíchozí data na
<firstterm>prou¾ky</firstterm> (stripes) a ty pak rovnomìrnì rozmístí
na ka¾dý disk v poli. To mù¾e zvý¹it rychlost ètení a zápisu, ov¹em
pokud jeden z diskù odejde do vìèných lovi¹», odejdou s ním
<emphasis>v¹echna data</emphasis> (èást informace je stále na zdravém
disku (discích), zbývající èást <emphasis>byla</emphasis> na vadném
disku).

</para><para>

Typicky se RAID0 pou¾ívá pro oblast na støíhání videa.

</para></listitem>
</varlistentry>
<varlistentry>

<term>RAID1</term><listitem><para>

Je vhodný systémy, kde je spolehlivost na prvním místì. Skládá se
z nìkolika (obvykle dvou) stejnì velkých oblastí, kde ka¾dá oblast
obsahuje naprosto shodná data. Prakticky to znamená dvì vìci. Za prvé,
pokud jeden z diskù sel¾e, stále máte data zrcadlena na zbývajících
discích. Za druhé, k dispozici máte pouze èást celkové kapacity)
pøesnìji to je velikost nejmen¹í oblasti v poli).

</para><para>

Volitelnì mù¾ete mít v poli rezervní disk, který se normálnì nevyu¾ívá
a v pøípadì výpadku jednoho z diskù okam¾itì nahradí jeho místo.

</para></listitem>
</varlistentry>
</variablelist>

Kdybychom mìli shrnout podstatné vlastnosti:

<informaltable>
<tgroup cols="5">
<thead>
<row>
  <entry>Typ</entry>
  <entry>Minimálnì zaøízení</entry>
  <entry>Rezervní zaøízení</entry>
  <entry>Pøe¾ije výpadek disku?</entry>
  <entry>Dostupné místo</entry>
</row>
</thead>

<tbody>
<row>
  <entry>RAID0</entry>
  <entry>2</entry>
  <entry>ne</entry>
  <entry>ne</entry>
  <entry>velikost nejmen¹ího zaøízení krát poèet zaøízení v in RAIDu</entry>
</row>

<row>
  <entry>RAID1</entry>
  <entry>2</entry>
  <entry>volitelnì</entry>
  <entry>ano</entry>
  <entry>velikost nejmen¹ího zaøízení v RAIDu</entry>
</row>

</tbody></tgroup></informaltable>

</para><para>

Chcete-li se o Softwarovém RAIDu dozvìdìt více, rozhodnì se podívejte
na <ulink url="&url-software-raid-howto;">Software RAID HOWTO</ulink>.

</para><para>

Pro vytvoøení vícediskového zaøízení musí být oblasti, ze kterých se
má zaøízení skládat, oznaèeny pro pou¾ití v RAIDu.  (To se provádí
v <command>partman</command>u v menu <guimenu>Nastavení
oblasti</guimenu>, kde byste mìli nastavit polo¾ku <guimenu>Pou¾ít
jako:</guimenu> na hodnotu <guimenuitem>fyzický svazek pro
RAID</guimenuitem>.)

</para><warning><para>

Tento instalaèní program neumo¾òuje pou¾ít vícediskové zaøízení pro
koøenovou oblast (<filename>/</filename>).

</para></warning><para>

Na první obrazovce <command>mdcfg</command> jenodu¹e vyberte
<guimenu>Vytvoøit MD zaøízení</guimenu>. Bude vám nabídnut seznam
podporovaných typù vícediskových zaøízení, ze kterého si jeden vyberte
(napø. RAID1). Co bude následovat, závisí na typu vybraného
zaøízení. Obecnì se dá øíck, ¾e budete muset zadat nìjaké parametry
a vybrat oblasti, ze kterých se má zaøízení skládat.

</para>

<itemizedlist>
<listitem><para>

RAID0 je velmi jednoduchý &mdash; va¹ím jediným úkolem je vybrat
z nabídnutého seznamu RAIDových oblastí ty, které budou tvoøit pole.

</para></listitem>
<listitem><para>

RAID1 je tro¹ku slo¾itìj¹í. Nejprve musíte zadat poèet aktivních
a poèet rezervních zaøízení (oblastí), které budou tvoøit RAID. Dále
musíte ze seznamu dostupných RAIDových oblastí vybrat ty, které mají
být aktivní a poté ty, které mají být rezervní. Poèty vybraných
oblastí se musí rovnat èíslùm, která jste zadali pøed chvílí. Pokud
udìláte chybu a vyberete jiný poèet oblastí, nic se nedìje &mdash;
&d-i; vás nenechá pokraèovat, dokud v¹e nespravíte.

</para></listitem>
</itemizedlist>

<para>

Poznamenejme, ¾e mù¾ete pou¾ívat více typù vícediskových zaøízení
najednou. Napøíklad pokud máte pro MD vyhrazeny tøi 200 GB pevné disky
a na ka¾dém máte dvì 100 GB oblasti, mù¾ete z prvních oblastí v¹ech
diskù sestavit pole RAID0 (rychlá 300 GB oblast pro støih videa) a ze
zbývajících tøí oblastí (2 aktivní a 1 rezervní) sestavit RAID1
(rozumnì spolehlivá 100 GB oblast pro domovské adresáøe u¾ivatelù).

</para><para>

A¾ nastavíte vicedisková zaøízení podle chuti, mù¾ete ukonèit
<command>mdcfg</command> a vrátit se tak do
<command>partman</command>u, kde tìmto zaøízením pøiøadíte obvyklé
atributy jako soubrové systémy a pøípojné body.

</para>
   </sect3>
