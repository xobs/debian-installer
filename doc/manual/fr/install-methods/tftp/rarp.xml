<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- original version: 15652 -->


  <sect2 condition="supports-rarp" id="tftp-rarp">
   <title>Configurer un serveur RARP</title>
<para>

Pour configurer RARP, il vous faudra connaître l'adresse Ethernet du client 
(c'est-à-dire, l'«&nbsp;adresse MAC&nbsp;»).
        Si vous n'avez pas cette donnée, vous pouvez

<phrase arch="sparc">l'extraire des messages d'amorçage initiaux de l'OpenPROM,
        utiliser la commande OpenBoot <userinput>.enet-addr</userinput> ou
</phrase>

amorcer en mode «&nbsp;secours&nbsp;» (p.&nbsp;ex. à partir de la disquette 
de secours) et utiliser la commande
<userinput>/sbin/ifconfig eth0</userinput>.

</para><para>

Pour GNU/Linux (noyau 2.2.x), vous devez renseigner la table RARP du
        noyau. Pour ce faire, exécutez

<informalexample>
<para>

<userinput>/sbin/rarp -s 
<replaceable>client-hostname</replaceable>
<replaceable>client-enet-addr</replaceable> 
</userinput>

</para><para>

<userinput>/usr/sbin/arp -s 
<replaceable>client-ip</replaceable>
<replaceable>client-enet-addr</replaceable>
</userinput>

</para></informalexample>

</para><para>

Si en retour vous obtenez : 

<informalexample><screen>
SIOCSRARP: Invalid argument
</screen></informalexample> 

vous devrez probablement charger le module rarp du noyau ou bien recompiler 
le noyau pour accepter RARP. Essayez <userinput>modprobe rarp</userinput> 
puis essayez à nouveau la commande <command>rarp</command>.

</para><para>

Les systèmes avec un noyau Linux 2.4.x n'ont pas de module RARP,
et il faut dans ce cas utiliser le programme <command>rarpd</command>.
La procédure est identique à celle utilisée sous SunOS dans le prochain 
paragraphe.

</para><para>

Sous SunOS, vous devez vous assurer que les adresses matérielles
Ethernet pour les clients soient listées dans la base de
données «&nbsp;ether&nbsp;» (soit dans le fichier 
<filename>/etc/ethers</filename> soit via NIS/NIS+) et dans la base de
données «&nbsp;hosts&nbsp;». Ensuite, vous devez lancer le démon RARP. 
Pour SunOS 4, essayez la commande (en tant que superutilisateur)&nbsp;: 
<userinput>/usr/etc/rarpd -a</userinput>&nbsp;; pour SunOS 5,
<userinput>/usr/sbin/rarpd -a</userinput>.

</para>
  </sect2>
