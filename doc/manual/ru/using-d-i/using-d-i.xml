<!-- Start of file using-d-i/using-d-i.xml -->
<!-- $Id: using-d-i.xml 19074 2004-08-15 12:59:43Z fjpop-guest $ -->


 <chapter id="d-i-intro"
><title
>Использование программы установки Debian</title>

 <sect1
><title
>Как работает программа установки</title>
<para
>Программа установки Debian состоит из нескольких специальных компонентов, предназначенных для выполнения соответствующих задач установки. Каждый компонент выполняет свою задачу, задавая пользователю вопросы, если это необходимо для выполнения его работы. Самим вопросам задан приоритет, и можно задать приоритет задаваемых вопросов при старте программы установки. </para
><para
>Когда используется установка по умолчанию, задаются только жизненно важные (высокоприоритетные) вопросы. Результатом будет полностью автоматизированный процесс установки с небольшим вмешательством пользователя. Компоненты автоматически запускаются в заданной последовательсти; какой компонет будет запущен, зависит в основном от выбранного вами метода установки и от вашего оборудования. Программа установки будет использовать значения по умолчанию для вопросов, которые не задавались. </para
><para
>В случае проблем, пользователь увидит экран ошибки и меню программы установки возможно покажет выбор нескольких альтернативных действий. Если же проблем нет, пользователь никогда не увидит меню программы установки, а просто ответы на вопросы каждого компонента. Извещениям о серьезных ошибках установлен приоритет 'критический', так что пользователь всегда будет оповещен. </para
><para
>На некоторые умолчания, используемые программой установки, можно повлиять путем передачи параметров загрузки при старте &d-i;. Если, например, вы хотите принудительно использовать статическую настройку сети (по умолчанию будет использован DHCP, если получится), можете добавить параметр загрузки <userinput
>netcfg/disable_dhcp=true</userinput
>. Доступные опции можно посмотреть в <xref linkend="installer-args"/>. </para
><para
>Опытным пользователям возможно будет более удобен интерфейс управления через меню, где каждый шаг контролируется пользователем, вместо автоматического выполнения каждого шага последовательности програмой установки. Для использования программы установки в ручном режиме, управляемом через меню, добавьте параметр загрузки <userinput
>debconf/priority=medium</userinput
>. </para
><para
>Если ваше оборудование требует передачи параметров модулям ядра при их установке, вам надо будет запустить программу установки в режиме <quote
>expert</quote
>. Это можно сделать либо использовав команду <command
>expert</command
> для запуска программы установки, либо передав параметр загрузки <userinput
>debconf/priority=low</userinput
>. Режим эксперта дает вам полный контроль над &d-i;. </para
><para
>Нормальный вид программы установки -- текстовый (в отличие от более распространенных теперь графических интерфейсов). Мышка здесь не работает. Вот кнопки, с помощью которых вы можете перемещаться внутри различных диалогов. Клавиша <keycap
>Tab</keycap
> или <keycap
>правая</keycap
> стрелка перемещают `вперед', а <keycombo
> <keycap
>Shift</keycap
> <keycap
>Tab</keycap
> </keycombo
> или <keycap
>левая</keycap
> стрелка перещают `назад' между отображаемыми кнопками или выборами. Стрелки <keycap
>вверх</keycap
> и <keycap
>вниз</keycap
> выбирают различные пункты в прокручиваемом списке, а также прокручивают сам список. Дополнительно, в длинных списках, вы можете набрать букву чтобы список прокрутился прямо к секции с пунктом, начинающимся на букву, которую вы набрали, а также использовать <keycap
>Pg-Up</keycap
> и <keycap
>Pg-Down</keycap
> для прокручивания списка по секциям. <keycap
>Пробел</keycap
> выбирает пункты, такие как checkbox. Используйте &enterkey; для активации выбора. </para
><para arch="s390"
>S/390 не поддерживает виртуальные консоли. Вы можете открыть вторую или третью ssh-сессию для просмотра лог-файлов, описанных ниже. </para
><para
>Сообщения об ошибках перенаправляются на третью консоль. Вы можете получить доступ к этой консоли, нажав <keycombo
><keycap
>Левый Alt</keycap
><keycap
>F3</keycap
></keycombo
> (удерживайте клавишу <keycap
>Alt</keycap
> нажатой во время нажатия функциональной клавиши <keycap
>F3</keycap
>); вернуться к основному процессу установки через <keycombo
><keycap
>Левый Alt</keycap
><keycap
>F1</keycap
></keycombo
>. </para
><para
>Также эти сообщения можно найти в <filename
>/var/log/messages</filename
>. После установки этот файл копируется в <filename
>/var/log/debian-installer/messages</filename
> в вашей новой системе. Остальные установочные сообщения можно найти в <filename
>/var/log/</filename
> во время установки, и в <filename
>/var/log/debian-installer/</filename
> после того, как компьютер перезагрузится в установленную систему. </para>
 </sect1>


  <sect1 id="modules-list"
><title
>Введение в компоненты</title>
<para
>Вот список компонентов программы установки с кратким описанием назначения каждого компонента. Детали об использовании каждого компонента, которые вы возможно должны знать, находятся в <xref linkend="module-details"/>. </para>

<variablelist>
<varlistentry>

<term
>main-menu</term
><listitem
><para
>Показывает список компонентов пользователю во время работы программы установки, и запускает компонент, когда он выбран. Вопросам main-menu установлен средний приоритет, так что если ваш приоритет установлен в высокий или критический(по умолчанию высокий), вы не увидите меню. С другой стороны, если есть ошибка, которая требует вашего вмешательства, приоритет вопросов может быть временно понижен, чтобы позволить вам разрешить проблему, и в этом случае меню может появиться. </para
><para
>Вы можете добраться до главного меню, многократно выбирая кнопку "Назад ", чтобы пройти весь путь обратно из текущего выполняемого компонета. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>languagechooser</term
><listitem
><para
>Показывает список языков и варианты языка. Программа установки будет отображать сообщения на выбранном языке, если перевод на этот язык закончен. Когда перевод не закончен, будут показываться английские сообщения. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>countrychooser</term
><listitem
><para
>Показывает список стран. Пользователь может выбрать страну, в которой живет. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>kbd-chooser</term
><listitem
><para
>Показывает список клавиатур, из которого пользователь выбирает модель, которая ему подходит. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>hw-detect</term
><listitem
><para
>Автоматически определяет основную аппаратуру системы, включая сетевые карты, приводы дисков и PCMCIA. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>cdrom-detect</term
><listitem
><para
>Ищет и монтирует компакт-диск с программой установки Debian. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>netcfg</term
><listitem
><para
>Настраивает сетевые подключения компьютера, чтобы он мог общаться через интернет. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>iso-scan</term
><listitem
><para
>Ищет файловые системы ISO, которые могут располагаться на компакт-дисках или на жестком диске. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>choose-mirror</term
><listitem
><para
>Предоставляет список зеркал архивов Debian. Пользователь может выбрать источник, с которого будут ставиться его пакеты. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>cdrom-checker</term
><listitem
><para
>Проверяет целостность компакт-диска. Таким образом пользователь может гарантировать себе, что установочный компакт-диск не поврежден. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>lowmem</term
><listitem
><para
>Lowmem пытается распознать системы с малым объемом памяти и затем выполняет различные трюки, чтобы удалить ненужные части &d-i; из памяти (ценой некоторых возможностей). </para
></listitem>
</varlistentry>
<varlistentry>

<term
>anna</term
><listitem
><para
>Anna Не Настоящий APT. Устанавливает пакеты, которые были получены с выбранного зеркала или компакт-диска. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>partman</term
><listitem
><para
>Позволяет пользователю разбить на разделы подключенные к системе диски, создать файловые системы на выбранных разделах и назначить им точки монтирования. Также включает интересные возможности, такие как полностью автоматизированный режим или поддержка LVM. Это предпочитаемая утилита работы с разделами в Debian. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>autopartkit</term
><listitem
><para
>Автоматически размечает весь диск на разделы, согласно заданным пользователем установкам </para
></listitem>
</varlistentry>
<varlistentry>

<term
>partitioner</term
><listitem
><para
>Позволяет пользователю разметить на разделы диски, подключенные к системе. Выбирается программа разметки, соответствующая архитектуре вашего компьютера. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>partconf</term
><listitem
><para
>Отображает список разделов и создает файловые системы на выбранных разделах, согласно пользовательским инструкциям. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>lvmcfg</term
><listitem
><para
>Помогает пользователю с настройкой <firstterm
>LVM</firstterm
> (менеджера логических томов). </para
></listitem>
</varlistentry>
<varlistentry>

<term
>mdcfg</term
><listitem
><para
>Позволяет пользователю установить Программный <firstterm
>RAID</firstterm
> (Redundant Array of Inexpensive Disks). Этот Программный RAID обычно лучше, чем дешевые IDE (псевдо-аппаратные) RAID-контроллеры в новых материнских платах. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>base-installer</term
><listitem
><para
>Устанавливает самый минимальный набор пакетов, который позволит компьютеру работать под Linux после перезагрузки. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>os-prober</term
><listitem
><para
>Определяет уже установленные на компьютере операционные системы и передает эту информацию в bootloader-installer, который может предложить вам возможность добавить найденные операционные системы в стартовое меню системного загрузчика. Таким образом пользователь легко может выбрать в момент загрузки, какую операционную систему надо запустить. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>bootloader-installer</term
><listitem
><para
>Устанавливает на жесткий диск программу системного загрузчика, которая необходима для того, чтобы компьютер заработал под Linux без использования дискеты или компакт-диска. Многие системные загрузчики позволяют пользователю выбрать альтернативную операционную систему каждый раз при загрузке компьютера. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>base-config</term
><listitem
><para
>Обеспечивает диалоги для настройки базовых системных пакетов, согласно установкам пользователя. В норме это происходит после перезагрузки компьютера; это 'первый запуск' новой системы Debian. </para
></listitem>
</varlistentry>
<varlistentry>

<term
>shell</term
><listitem
><para
>Позволяет пользователю вызвать командную оболочку из меню или на второй консоли </para
></listitem>
</varlistentry>
<varlistentry>

<term
>bugreporter</term
><listitem
><para
>Обеспечивает пользователю возможность записать информацию на дискету в случае возникновения затруднений, для того, чтобы позже отправить разработчикам Debian точный отчет о проблеме в программе установки. </para
></listitem>
</varlistentry>

</variablelist>

 </sect1>


<!-- Start of file using-d-i/components.xml -->
<!-- $Id: components.xml 22935 2004-10-09 18:36:20Z fjpop-guest $ -->

 <sect1 id="module-details">
 <title
>Применение отдельных составляющих</title>
<para
>В этом разделе мы подробно опишем каждую составляющую программы установки. Компоненты собраны в понятные пользователю группы и расположены в порядке использования во время установки. Обратите внимание, что в зависимости от метода установки и вашей аппаратуры, некоторые модули могут не использоваться. </para>

  <sect2 id="di-setup">
  <title
>Настройка Debian Installer и оборудования</title>
<para
>Давайте представим, что программа установки Debian загрузилась и вы видите ее первый экран. В этот момент возможности &d-i; все еще немного ограничены. Она не знает многое о вашем оборудовании, предпочитаемом языке или даже о задачах, которые она должна сделать. Не беспокойтесь. Поскольку &d-i; немножко умная, она может автоматически определить ваше оборудование, найти свои остальные компоненты и обновить себя до оч.умелой системы установки. Однако, вы все еще должны помочь &d-i; некоторой информацией, которую она не может определить автоматически (например, выбрать предпочитаемый вами язык, раскладку клавиатуры или необходимое сетевое зеркало). </para
><para
>Вы заметите, что &d-i; выполняет <firstterm
>определение оборудования</firstterm
> несколько раз во время этой стадии. Целью первого раза является оборудование, необходимое для загрузки компонентов программы установки (т.е. ваш CD-ROM или сетевая карта). Поскольку не все драйверы могут быть доступны во время этого первого запуска, определение оборудования надо будет повторить позже по ходу установки. </para>


<!-- Start of file using-d-i/modules/lowmem.xml -->
<!-- $Id: lowmem.xml 16990 2004-06-19 22:09:49Z fjpop-guest $ -->

  <sect3 id="lowmem">
  <title
>Проверка доступной памяти</title>

<para
>Одной из первых вещей, которую делает &d-i;, это проверяет размер доступной памяти. Если размер ограничен, то эта компонента делает некоторые изменения процесса установки, которые, будем надеяться, позволят установить &debian; на вашу машину. </para
><para
>Если при установке доступно мало памяти, не все компоненты будут доступны. Одним из ограничений является невозможность выбора языка установки. </para>
   </sect3>
<!--   End of file using-d-i/modules/lowmem.xml -->

<!-- Start of file using-d-i/modules/languagechooser.xml -->
<!-- $Id: languagechooser.xml 21579 2004-09-13 22:57:14Z fjpop-guest $ -->


   <sect3 id="lang-chooser">
   <title
>Выбор языка</title>

<para
>На первом этапе установки выберите язык, на котором будет весь процесс установки. Названия языков написаны на английском(слева) и на самом языке (справа); названия справа также показаны в правильном написании для этого языка. Список отсортирован по английским названиям. </para
><para
>Выбранный язык будет использован для оставшегося процесса установки, предлагая переводы различных диалогов если возможно. Если перевод для выбранного языка недоступен, по умолчанию используется английский язык. Выбранный язык также будет использован при выборе подходящей раскладки клавиатуры. </para>
   </sect3>
<!--   End of file using-d-i/modules/languagechooser.xml -->

<!-- Start of file using-d-i/modules/countrychooser.xml -->
<!-- $Id: countrychooser.xml 23058 2004-10-12 23:51:17Z cjwatson $ -->


   <sect3 id="country-chooser">
   <title
>Выбор страны</title>

<para
>Если вы выбрали язык в <xref linkend="lang-chooser"/>, на котором говорят более чем в одной стране (например, китайский, английский, французский и многие другие языки), здесь вы можете указать страну. Если вы выберите <guimenuitem
>Другая</guimenuitem
> в конце списка, то вам будет предложен список всех стран, сгруппированных по континентам. </para
><para
>Этот выбор будет использован позднее в процессе установки для выбора часового пояса по умолчанию и ближайшего к вам территориально сервера-зеркала Debian. Если предложенные по умолчанию установки вам не подходят, то вы можете изменить их. Выбранная страна, совместно с выбранным языком могут повлиять на настройку локали вашей новой системы Debian. </para>
   </sect3>
<!--   End of file using-d-i/modules/countrychooser.xml -->

<!-- Start of file using-d-i/modules/kbd-chooser.xml -->
<!-- $Id: kbd-chooser.xml 21579 2004-09-13 22:57:14Z fjpop-guest $ -->

   <sect3 id="kbd-chooser">
   <title
>Выбор клавиатуры</title>

<para
>Клавиатуры часто приспосабливают к символам определённого языка. Выберите раскладку, которая подходит к вашей клавиатуре, или выберите наиболее подходящую, если таковой не имсеется. После завершения установки, вы сможете выбрать раскладку из большего количества вариантов (запустите <command
>kbdconfig</command
> суперпользователем после завершения установки). </para
><para
>Выберите нужную клавиатуру и нажмите &enterkey;. Для перемещения используйте клавиши стрелок &mdash; они находятся в одном и том же месте во всех национальных клавиатурных раскладках, поэтому они не зависят от конфигурации клавиатуры. 'Расширенная' клавиатура &mdash; это клавиатура с клавишами от <keycap
>F1</keycap
> по <keycap
>F10</keycap
> в самой верхней строке клавиш. </para
><para arch="mipsel"
>На машинах DECstation в настоящий момент загрузка клавиатурной раскладки невозможна, поэтому вы можете пропустить выбор клавиатуры и оставить раскладку, которую по умолчанию предлагает ядро (LK201 US). Это может измениться в будущем, в зависимости от того как будет разрабатываться в дальнейшем ядро Linux/MIPS. </para
><para arch="powerpc"
>Есть две раскладки для клавиатур US; раскладка qwerty/mac-usb-us (Apple USB) закрепляет функцию Alt за клавишей <keycap
>Command/Apple</keycap
> (на клавиатуре это следующая клавиша после <keycap
>space</keycap
> подобна <keycap
>Alt</keycap
> PC клавиатурах), а раскладка qwerty/us (Standard) закрепляет функцию Alt за клавишей <keycap
>Option</keycap
> (на большинстве Mac клавиатур клавиша с надписью 'alt'). В остальном раскладки ничем не отличаются. </para>
   </sect3>
<!--   End of file using-d-i/modules/kbd-chooser.xml -->

<!-- Start of file using-d-i/modules/s390/netdevice.xml -->
<!-- $Id: netdevice.xml 11648 2004-03-22 00:37:46Z joeyh $ -->
<!--   End of file using-d-i/modules/s390/netdevice.xml -->

<!-- Start of file using-d-i/modules/s390/dasd.xml -->
<!-- $Id: dasd.xml 11648 2004-03-22 00:37:46Z joeyh $ -->
<!--   End of file using-d-i/modules/s390/dasd.xml -->

<!-- Start of file using-d-i/modules/ddetect.xml -->
<!-- $Id: ddetect.xml 11648 2004-03-22 00:37:46Z joeyh $ -->
<!--   End of file using-d-i/modules/ddetect.xml -->

<!-- Start of file using-d-i/modules/cdrom-detect.xml -->
<!-- $Id: cdrom-detect.xml 11648 2004-03-22 00:37:46Z joeyh $ -->
<!--   End of file using-d-i/modules/cdrom-detect.xml -->

<!-- Start of file using-d-i/modules/iso-scan.xml -->
<!-- $Id: iso-scan.xml 23058 2004-10-12 23:51:17Z cjwatson $ -->

   <sect3 id="iso-scan">
   <title
>Поиск ISO образа программы установки Debian</title>
<para
>Если установка производится с помощью метода <emphasis
>hd-media</emphasis
>, настанет момент, где вам нужно будет найти и смонтировать ISO образ программы установки Debian чтобы получить оставшиеся файлы установки. Для этого существует компонент <command
>iso-scan</command
>. </para
><para
>Сначала, <command
>iso-scan</command
> автоматически смонтирует все блочные устройства (т.е. разделы), на которых есть распознанная файловая система и последовательно ,будет искать на них файлы с именами, оканчивающимися на <filename
>.iso</filename
> (или <filename
>.ISO</filename
>, это важно). Обратите внимание, ищутся файлы только в корневом каталоге и подкаталогах первого уровня (то есть найдутся файлы <filename
>/<replaceable
>имя</replaceable
>.iso</filename
>, <filename
>/data/<replaceable
>имя</replaceable
>.iso</filename
>, но не <filename
>/data/tmp/<replaceable
>имя</replaceable
>.iso</filename
>). После нахождения iso образа, <command
>iso-scan</command
> проверит его содержимое чтобы выяснить, является ли образ правильным iso образом Debian или нет. В первом случае поиск завершается, в последнем <command
>iso-scan</command
> будет искать другой образ. </para
><para
>Если найти iso образ с программой установки не удалось, <command
>iso-scan</command
> спросит, хотите ли вы чтобы был выполнен более тщательный поиск. В этом случае будет произведён поиск по всей файловой системе. </para
><para
>Если <command
>iso-scan</command
> не нашла iso образ программы установки, перезагрузитесь в первоначальную операционную систему и проверьте правильность имени (должно оканчиваться на <filename
>.iso</filename
>), если файл находится на распознаваемой &d-i; файловой системе, и что образ не повреждён (проверьте контрольную сумму). Опытные пользователи Unix могут это сделать со второй консоли, без перезагрузки. </para>
   </sect3>
<!--   End of file using-d-i/modules/iso-scan.xml -->

<!-- Start of file using-d-i/modules/anna.xml -->
<!-- $Id: anna.xml 11648 2004-03-22 00:37:46Z joeyh $ -->
<!--   End of file using-d-i/modules/anna.xml -->

<!-- Start of file using-d-i/modules/netcfg.xml -->
<!-- $Id: netcfg.xml 23058 2004-10-12 23:51:17Z cjwatson $ -->

   <sect3 id="netcfg">
   <title
>Настройка сети</title>

<para
>Если в начале этого шага система обнаруживает, что имеется более одного сетевого устройства, то вас попросят указать, какое устройство будет <emphasis
>первичным</emphasis
> сетевым интерфейсом, то есть какое устройство будет использовано для установки системы. Другие интерфейсы останутся ненастроенными на этот момент. Вы сможете настроить дополнительные интерфейсы после завершения установки ; смотрите страницу руководства <citerefentry
> <refentrytitle
>interfaces</refentrytitle
> <manvolnum
>5</manvolnum
> </citerefentry
>. </para
><para
>По умолчанию, &d-i; пытается настроить сетевой интерфейс вашего компьютера автоматически через DHCP. Если на DHCP запросы получен ответ, настройка завершена. Если ответов не получено, это могло произойти по множеству причин, начиная от неподключённого сетевого кабеля и кончая неправильной настройкой DHCP. Или вы просто не имеете DHCP сервера в локальной сети. Для выяснения причины посмотрите сообщения об ошибках на третьей консоли. В любом случае, вас спросят, не хотите ли вы попробовать ещё раз, или хотите выполнить настройку вручную. Иногда DHCP сервера очень медленно отвечают, поэтому если вы уверены, что всё в порядке, попробуйте ещё раз. </para
><para
>При ручной настройке сети вам зададут несколько вопросов о вашей сети, особенно про <computeroutput
>IP адрес</computeroutput
>, <computeroutput
>маску сети</computeroutput
>, <computeroutput
>шлюз</computeroutput
>, <computeroutput
>адреса серверов имён</computeroutput
> и<computeroutput
>имени машины</computeroutput
>. Кроме того, если у вас интерфейс беспроводной сети, то вас попросят ввести личный<computeroutput
>Wireless ESSID</computeroutput
> и <computeroutput
>WEP ключ</computeroutput
>. Введите ответы из <xref linkend="needed-info"/>. </para
><note
><para
>Некоторые технические детали удобно определяются: программа предполагает, что адрес IP сети вычисляется с помощью операции побитового И над IP адресом системы и маской сети. Широковещательный адрес вычисляется с помощью операции побитового ИЛИ над IP адресом системы и инверсной маской сети. Также вычисляется шлюз. Если вы не можете найти какой-нибудь ответ, используйте предлагаемые системой &mdash; если нужно, вы можете изменить их сразу после установки системы, отредактировав <filename
>/etc/network/interfaces</filename
>. Или же вы можете установить <classname
>etherconf</classname
>, который поможет вам с настройкой сети. </para
></note>
   </sect3>
<!--   End of file using-d-i/modules/netcfg.xml -->

<!-- Start of file using-d-i/modules/choose-mirror.xml -->
<!-- $Id: choose-mirror.xml 16990 2004-06-19 22:09:49Z fjpop-guest $ -->

<!--
- Component is only selected and executed if the installer needs to load
  installer components or the base system from the network
  (either local or the internet).
- This means you first have to configure a network interface.
- A list of countries is displayed with the default based on the country you
  selected earlier.
- Note that not all mirrors are equal (see http://www.nl.debian.org/mirror/list)
- Selection of a local mirror (at top of the list: manual selection).
- After selecting a country, a list of mirrors in the country will be shown.

- The selected mirror will be tested.
- How to handle problems with mirrors.
-->
<!--   End of file using-d-i/modules/choose-mirror.xml -->

  </sect2>

  <sect2 id="di-partition">
  <title
>Разбиение на разделы и выбор точки монтирования</title>
<para
>Сейчас, после того как определения оборудования было выполнено в последний раз, &d-i; должен быть во всей своей красе, подстроенный под нужды пользователя и готовый к выполнению кое-какой настоящей работы. Как это написано в заголовке раздела, основной задачей нескольких следующих компонентов будет разбиение ваших дисков, создание файловых систем, назначение точек монтирования и, опционально, настройка таких похожих друг на друга вещей, как LVM или устройства RAID. </para>


<!-- Start of file using-d-i/modules/partman.xml -->
<!-- $Id: partman.xml 23682 2004-11-08 08:26:39Z vorlon $ -->

   <sect3 id="partman">
   <title
>Разметка дисков</title>

<para
>Теперь настало время разметить диски. Если вы плохо знаковы с процедурой разметки, или просто хотите знать детали процесса, смотрите <xref linkend="partitioning"/>. </para
><para
>Сначала вам предложат автоматическую разметку или всего диска или только его свободного места. Это так называемая <quote
>направляющая</quote
> разметка. Если вы не хотите использовать авторазметку, выберите в меню<guimenuitem
>Редактирование таблицы разделов вручную</guimenuitem
>. </para
><para
>Если вы выбрали направляющую разметку, то вам предложат выбрать одну из схем, описанных в таблице ниже. Любая схема имеет свои "за" и "против", некоторые обсуждаютсяв <xref linkend="partitioning"/>. Если вы не знаете что выбрать, выберите первую. Помните, что для направляющей разметки нужно минимальное количество свободного места, с которым можно работать. Если вы не выделите по крайней мере окого 1ГБ (зависит от выбранной схемы), направляющая разметка завершится неудачно. </para>

<informaltable>
<tgroup cols="3">
<thead>
<row>
  <entry
>Схема разметки</entry>
  <entry
>Минимальное пространство</entry>
  <entry
>Созданные разделы</entry>
</row>
</thead>

<tbody>
<row>
  <entry
>Все файлы на одном разделе</entry>
  <entry
>600МБ</entry>
  <entry
><filename
>/</filename
>, swap</entry>
</row
><row>
  <entry
>Настольный компьютер</entry>
  <entry
>500МБ</entry>
  <entry
><filename
>/</filename
>, <filename
>/home</filename
>, swap </entry>
</row
><row>
  <entry
>Многопользовательская рабочая станция</entry>
  <entry
>1ГБ</entry>
  <entry
><filename
>/</filename
>, <filename
>/home</filename
>, <filename
>/usr</filename
>, <filename
>/var</filename
>, <filename
>/tmp</filename
>, swap </entry>
</row>

</tbody
></tgroup
></informaltable>

<para arch="ia64"
>Если вы выберите автоматическую разметку в системе IA64, то на ней появится дополнительный раздел, отформатированный как загружаемая файловая система FAT16, который используется системным загрузчиком EFI. Также, есть дополнительный пункт меню в меню форматирования для ручной настройки раздела в качестве загрузочного раздела EFI. </para
><para arch="alpha"
>If you chose an automatic partitioning for your Alpha system, an additional, unformatted partition will be allocated at the beginning of your disk to reserve this space for the aboot boot loader. </para
><para
>После выбора схемы, следующий экран покажет новую таблицу разделов, включая информацию будут ли и как форматироваться разделы и куда они будут смонтированы. </para
><para
>Список разделов может выглядеть так: <informalexample
><screen>
  IDE1 master (hda) - 6.4 GB WDC AC36400L
        #1 primary   16.4 MB     ext2       /boot
        #2 primary  551.0 MB     swap       swap
        #3 primary    5.8 GB     ntfs
           pri/log    8.2 MB     FREE SPACE

  IDE1 slave (hdb) - 80.0 GB ST380021A
        #1 primary   15.9 MB     ext3
        #2 primary  996.0 MB     fat16
        #3 primary    3.9 GB     xfs        /home
        #5 logical    6.0 GB     ext3       /
        #6 logical    1.0 GB     ext3       /var
        #7 logical  498.8 GB     ext3
        #8 logical  551.5 GB     swap       swap
        #9 logical   65.8 GB     ext2
</screen
></informalexample
> Этот пример показывает два жёстких диска IDE, разделённых на несколько разделов; на первом диске осталось немного свободного места. Каждая строка раздела содержит номер раздела, тип, размер, необязательные флаги, файловую систему и точку монтирования (если есть). </para
><para
>На этом заканчивается направляющая разметка. Если вам нравится сгенерированная таблица разделов, то вы можее выбрать <guimenuitem
>Закончить разметку и записать изменения на диск</guimenuitem
> из меню для создания новой таблицы разделов(как описано в конце этого раздела). Если результат вам не нравится, то можно выбрать <guimenuitem
>Отменить изменение разделов</guimenuitem
>, запустить направляющую разметку снова или изменить предложенные изменения вручную, как описано ниже. </para
><para
>При ручной разметке появляется похожий экран, за исключением, того что отображается существующая таблица разделов и нет точек монтирования. Далее описано как вручную редактировать таблицу разделов и как использовать эти разделы в Debian. </para
><para
>Если вы работаете с чистым диском, на котором нет ни разделов не свободного места, то вам предложат создать новую таблицу разделов (это необходимо для создания новых разделов). После этого, на выбранном диске должна появиться новая строка<quote
>СВОБОДНОЕ ПРОСТРАНСТВО</quote
>. </para
><para
>Если вы выберите свободное место, вам предложат создать новый раздел. Вы ответите на несколько коротких вопросов о размере, типе(первичный или логический) и местоположении (в начале или конце свободного пространства). После этого, вам покажут предлагаемые параметры к новому разделу. Здесь можно увидеть: точка монтирования, параметры монтирования, флаг загрузки или возможность использования. Если вам не нравятся значения по умолчанию, измените их как хотите. Например, в параметре <guimenuitem
>Использовать как:</guimenuitem
>, вы можете выбрать тип файловой системы для этого раздела, включая возможность использования раздела в качестве раздела подкачки, программного RAID, LVM, или совсем его не использовать. Другим полезным свойством является возможность скопировать данные из существующего раздела на этот. Когда вы настроите новый раздел, выберите <guimenuitem
>Закончить с разделом</guimenuitem
> и вы вернётесь обратно в главное меню <command
>partman</command
>. </para
><para
>Если вы решили, что хотите что-то изменить в разделе, просто выберите раздел и попадёте обратно в меню настройки раздела. Так как это тоже самое меню что и для создания раздела, вы можете изменить тот же набор параметров. Одна вещь, которая может показаться неочевидной на первый взгляд, это то что вы можете изменить размер раздела, выбрав элемент, отображающий размер раздела. Это работает, как минимум, на файловых системах fat16, fat32, ext2, ext3 и с разделом подкачки. Также, это меню позволяет удалить раздел. </para
><para
>Убедитесь, что создали, по крайнем мере, два раздела: один для <emphasis
>корневой</emphasis
> файловой системы (который должен быть смонтирован как <filename
>/</filename
>) и один раздел <emphasis
>подкачки</emphasis
>. Если вы забыли указать точку монтирования корневой файловой системы, <command
>partman</command
> не разрешит вам продолжить, пока вы не исправите ошибку. </para
><para arch="ia64"
>Если вы забыли выбрать и отформатировать загрузочный EFI раздел, <command
>partman</command
> обнаружит это и не разрешит вам продолжить, пока вы создадите такой раздел. </para
><para
>Возможности <command
>partman</command
> могут быть расширены модулями программы установки, но это зависит от архитектуры компьютера. Поэтому, если вы не найдёте всех обещанных свойств, проверьте, загрузили ли вы все требуемые модули (например, <filename
>partman-ext3</filename
>, <filename
>partman-xfs</filename
> или<filename
>partman-lvm</filename
>). </para
><para
>Для завершения работы по разметке, выберите <guimenuitem
>Закончитьразметку и записать изменения на диск</guimenuitem
> в меню разметки. Вам покажут все отчёт об изменениях, которые будут произведены на диске и попросят подтвердить, что все показанные файловые системы должны быть созданы. </para>
   </sect3>
<!--   End of file using-d-i/modules/partman.xml -->

<!-- Start of file using-d-i/modules/autopartkit.xml -->
<!-- $Id: autopartkit.xml 11648 2004-03-22 00:37:46Z joeyh $ -->
<!--   End of file using-d-i/modules/autopartkit.xml -->

<!-- Start of file using-d-i/modules/partitioner.xml -->
<!-- $Id: partitioner.xml 11648 2004-03-22 00:37:46Z joeyh $ -->

<!--   End of file using-d-i/modules/partitioner.xml -->

<!-- Start of file using-d-i/modules/partconf.xml -->
<!-- $Id: partconf.xml 11648 2004-03-22 00:37:46Z joeyh $ -->
<!--   End of file using-d-i/modules/partconf.xml -->

<!-- Start of file using-d-i/modules/lvmcfg.xml -->
<!-- $Id: lvmcfg.xml 22935 2004-10-09 18:36:20Z fjpop-guest $ -->

   <sect3 id="lvmcfg">
   <title
>Настройка менеджера логических томов (LVM)</title>
<para
>Если вы работаете с компьютером как системный администратор или вы<quote
>продвинутый</quote
> пользователь, то, определённо, попадали в ситуацию, когда на дисковом разделе (обычно на самом важном) заканчивалось место, а соседний раздел был почти пустой и вы выбирались из этой ситуации переносом данных с одного раздела на другой, созданием символических ссылок и т.д. </para
><para
>Чтобы избежать описанной ситуации вы можете воспользоваться менеджером логических томов (LVM). Проще говоря, с помощью LVM вы можете объединить разделы (<firstterm
>физические тома</firstterm
> в терминах LVM) в виртуальный диск (так называемую <firstterm
>группу томов</firstterm
>), который затем можно поделить на виртуальные разделы (<firstterm
>логические тома</firstterm
>). Выгода в том, что логические тома(и, конечно, содержащие их группы томов) можно распределить на несколько физических дисков. </para
><para
>Теперь, когда вы поняли, что вам нужно ещё место на имеющемуся 160ГБ <filename
>/home</filename
> разделу, вы можете просто добавить новый 300ГБ диск на компьютер, объединить его с существующей группой томов и затем изменить размер логического тома, который содержит файловую систему с <filename
>/home</filename
> и вуаля, ваши пользователи имеют дополнительное место на новом 460ГБ разделе. Этот пример, конечно, сильно упрощён. Дополнительную информацию вы найдёте в <ulink url="&url-lvm-howto;"
>LVM HOWTO</ulink
>. </para
><para
>Настройка LVM в &d-i; очень проста. Во-первых, вы помечаете разделы, которые будут использоваться как физические тома для LVM. (Это выполняется с помощью<command
>partman</command
> в меню <guimenu
>Настройка разделов</guimenu
>, гдевы должны выбрать <menuchoice
> <guimenu
>Использовать как:</guimenu
> <guimenuitem
>физический том для LVM</guimenuitem
> </menuchoice
>.) Затем, запуститемодуль <command
>lvmcfg</command
> (прямо из<command
>partman</command
> или из главного меню &d-i;) и объедините физические тома в группу томов в меню <guimenuitem
>Изменение группы томов (VG)</guimenuitem
>. После этого, вы должны создать логические тома в верхней группе томов из меню<guimenuitem
>Изменение логических томов (LV)</guimenuitem
>. </para
><para
>После возвращения из <command
>lvmcfg</command
> в <command
>partman</command
>, вы должны увидеть все созданные логические тома, как вы видите обычные разделы (и для вас они одинаковы). </para>
   </sect3>
<!--   End of file using-d-i/modules/lvmcfg.xml -->

<!-- Start of file using-d-i/modules/mdcfg.xml -->
<!-- $Id: mdcfg.xml 22953 2004-10-10 11:26:05Z mck-guest $ -->

   <sect3 id="mdcfg">
   <title
>Настройка устройства Multidisk (программный RAID)</title>
<para
>Если вы имеете более одного жёсткого диска<footnote
><para
> Если честно, мы можете собратьMD устройство даже из обычных разделов, расположенных на одном физическом жёстком диске, но это не даст никакой выгоды. </para
></footnote
> в компьютере, то можно воспользоваться<command
>mdcfg</command
> чтобыувеличить производительнось дисков и/или повысить надёжность данных. В результате получается, так называемое <firstterm
>устройство Multidisk </firstterm
> (или следующее более известное название <firstterm
>программный RAID</firstterm
>). </para
><para
>Основу MD состовляют группы разделов, расположенных на различных дисках и объединённых вместе в <emphasis
>логическое</emphasis
> устройство. Это устройство может затем быть использовано как обычный раздел (то есть в <command
>partman</command
> вы можете отформатировать его, назначить ему точку монтирования и т.д.). </para
><para
>Получаемые преимущества зависят от типа создаваемого MD устройства. В данный момент поддерживаются: <variablelist
> <varlistentry
> <term
>RAID0</term
><listitem
><para
> Нацелен на производительность. RAID0 разбивает все входящие данные на <firstterm
>полосы</firstterm
> и распределяет их в равной степени по дискам в массиве. Это может увеличить скорость операций чтения/записи, но если один из из дисков сломается, вы потеряете <emphasis
>всё</emphasis
> (часть информации всё ещё на исправных диске(ах), другая часть <emphasis
>хранилась</emphasis
> на сломавшемся диске). </para
> <para
> Обычно, разделы RAID0 используют для редактирования видео. </para
></listitem
> </varlistentry
> <varlistentry
> <term
>RAID1</term
><listitem
><para
> Используется там, где надёжность превыше всего. Он состоит из нескольких (обычно двух) одинаковых по размеру разделов, и на каждом разделе будут хранится одинаковые данные. В сущности, это означает три вещи. Первая: если один из дисков ломается, вы не теряете эти данные так как они продублированы на оставшихся дисках. Второе: вы можете использовать только часть доступного объёма (более точно, размер самого маленького раздела в RAID). Третье:, нагрузка при чтении файла сбалансированно распределяется по всем всем дискам, что может повысить производительность сервера, например файлового сервера, на котором операций чтения больше чем операций записи. </para
><para
> Также, вы можете и меть в массиве запасной диск, который включится в работу в случае неисправности одного из дисков. </para
></listitem
> </varlistentry
> <varlistentry
> <term
>RAID5</term
><listitem
><para
> Хороший компромис между скоростью, надёжностью и избыточностью. RAID5 разделяет все входящие данные на полосы и распределяет их пропорционально на все кроме одно диски ( как и RAID0). В отличие от RAID0, RAID5 также вычисляет <firstterm
>контрольную сумму</firstterm
>, которую записывает на оставшийся диск. Диск с контрольной суммой не статичен (тогда это был бы RAID4), а периодически изменяется, так что контрольная сумма распределяется по всем дискам. Когда один из дисков ломается, потерянную часть информации можно вычислить из оставшихся данных и её контрольной суммы. RAID5 должен состоять, как минимум из трёх активных разделов. Также, вы можете и меть в массиве запасной диск, который включится в работу в случае неисправности одного из дисков. </para
><para
> Как видите, RAID5 имеет немного надёжности от RAID1, но достигает этого с меньшей избыточностью. С другой стороны, он немного медленнее на операциях записи чем RAID0, из-за вычислений информации контрольной суммы. </para
></listitem
> </varlistentry
> </variablelist
> Итог: <informaltable
> <tgroup cols="5">
<thead>
<row>
  <entry
><entry
>Тип</entry
></entry>
  <entry
>Минимум устройств</entry>
  <entry
>Запасное устройство</entry>
  <entry
>Сохранятся ли данные при отказе диска?</entry>
  <entry
>Доступное место</entry>
</row>
</thead>

<tbody>
<row>
  <entry
>RAID0</entry>
  <entry
>2</entry>
  <entry
>нет</entry>
  <entry
>нет</entry>
  <entry
>Размер самого маленького раздела умноженный на число устройств в RAID</entry>
</row>

<row>
  <entry
>RAID1</entry>
  <entry
>2</entry>
  <entry
>необязательно</entry>
  <entry
>да</entry>
  <entry
>Размер самого маленького раздела в RAID</entry>
</row>

<row>
  <entry
>RAID5</entry>
  <entry
>3</entry>
  <entry
>необязательно</entry>
  <entry
>да</entry>
  <entry
>Размер самого маленького раздела умноженный на (число устройств в RAID минус 1) </entry>
</row>

</tbody
></tgroup
></informaltable>

</para
><para
>Если вы хотите узнать всю правду о программном RAID, посмотрите<ulink url="&url-software-raid-howto;"
>Software RAID HOWTO</ulink
>. </para
><para
>Чтобы создать MD устройство, вам нужно пометить желаемые разделы как используемые в RAID. (Это делается в <command
>partman</command
> из меню <guimenu
>Настройки раздела</guimenu
>, где вы должны выбрать<menuchoice
> <guimenu
>Использовать как:</guimenu
> <guimenuitem
>Использовать разделкак устройство RAID</guimenuitem
> </menuchoice
>.) </para
><warning
><para
>Поддержка MD в программе установки появилась относительно недавно. У вас могут возникнуть проблемы с некоторыми уровнями RAID и в сочетании с некоторыми системными загрузчиками, если вы пытаетесь использовать MD в качестве корневой файловой системы (<filename
>/</filename
>). Опытные пользователи, возможно, могут обойти некоторые из этих проблем, выполнив некторую настройку или шаги установки вручную из командной строки. </para
></warning
><para
>Далее, вы должны выбрать <guimenuitem
>Настройка программного RAID</guimenuitem
> из главного меню в меню <command
>partman</command
>. На первом экране<command
>mdcfg</command
> просто выберите <guimenuitem
>Создать MD устройство</guimenuitem
>. Вам будет предложен список поддерживаемых типов MD устройств, из которого вы должны выбрать один (например, RAID1). Дальнейшие действия зависят от типа выбранного MD. </para>

<itemizedlist>
<listitem
><para
>RAID0 очень прост &mdash; вас предложат список доступных разделов RAID, авашей задачей будет выбор разделов из которых вы хотите сформировать MD. </para
></listitem>
<listitem
><para
>С RAID1 немного сложнее. Во-первых, вас попросят ввести число активных устройств и число запасных устройств, из которых будет формироваться MD. Далее, вам потребуется выбрать из списка доступных разделов RAID те, которые будут активными и затем, те которые будут запасными. Число выбранных разделов должно быть равно числу, введённому несколькими секундами ранее. Не волнуйтесь. Если вы ошибётесь и выберите неверное число разделов, &d-i; не позволит вам продолжить, пока вы не исправите ошибку. </para
></listitem>
<listitem
><para
>Создание RAID5 напоминает процедуру RAID1 за исключением, того что вам нужно использовать как минимум <emphasis
>три</emphasis
> активных раздела. </para
></listitem>
</itemizedlist>

<para
>Отлично сосуществуют несколько типов MD одновременно. Например, если вы имеететри 200ГБ жёстких диска выделенных под MD, каждый из которых разбит на два 100ГБ раздела, вы можете объединить первые разделы трёх дисков в RAID0 (быстрый 300ГБ раздел для редактирования видео) и использовать оставшиеся три раздела (2 активных и 1 запасной) для RAID1 (вполне надёжный 100ГБ раздел для <filename
>/home</filename
>). </para
><para
>После настройки MD устройств в соответствии с вашими желаниями, вы можете <guimenuitem
>Закончить</guimenuitem
> <command
>mdcfg</command
> и вернуться в <command
>partman</command
>, чтобы создать файловые системы на новых MD устройствах и назначить им обычные атрибуты типа точек монтирования. </para>
   </sect3>
<!--   End of file using-d-i/modules/mdcfg.xml -->
  </sect2>

  <sect2 id="di-install-base">
  <title
>Установка базовой системы</title>
<para
>Хотя эта стадия наименее проблематична, она занимает наибольшую часть времени установки, потому что скачивается, проверяется и распаковывается вся базовая система. Если у вас медленный компьютер или сетевое соединение, это может занять некоторое время. </para>


<!-- Start of file using-d-i/modules/base-installer.xml -->
<!-- $Id: base-installer.xml 21579 2004-09-13 22:57:14Z fjpop-guest $ -->

   <sect3 id="base-installer">
   <title
>Установка базовой системы</title>

<para
>Во время базовой установки, пакеты распаковываются и сообщения о настройке переправляются на <userinput
>tty3</userinput
>. Вы можете перейти на этот терминал, нажав <keycombo
><keycap
>Left Alt</keycap
><keycap
>F3</keycap
></keycombo
>; чтобы вернуться обратно в основной процесс установки нажмите <keycombo
><keycap
>Left Alt</keycap
><keycap
>F1</keycap
></keycombo
>. </para
><para
>Сообщения распаковки/настройки, создаваемые базовой установкой сохраняются в <filename
>/var/log/messages</filename
>, если установка выполняется через консоль на последовательном порту. </para
><para
>Ядро Linux будет устновлено как часть установки. С приоритетов по умолчанию, программа установки выберет ядро, наиболее подходящее для вашего оборудования. В режимах с низшим приоритетом, это предложат сделать вам из списка доступных ядер. </para>
   </sect3>
<!--   End of file using-d-i/modules/base-installer.xml -->
  </sect2>

  <sect2 id="di-make-bootable">
  <title
>Создание загружаемой системы</title>

<para condition="supports-nfsroot"
>Если вы устанавливаеме бездисковую рабочую станцию, очевидно, что загрузка с локального диска не нужна, и этот шаг можно пропустить. <phrase arch="sparc"
>Возможно, вы захотите установить OpenBoot для загрузки из сети по умолчанию; смотрите <xref linkend="boot-dev-select-sun"/>.</phrase
> </para
><para
>Надо заметить, что загрузка множества операционных систем на одной машине всё ещё напоминает какое-то тёмное искусство. Этот документ даже и не пытается описать все разнообразие менеджеров загрузки, которые отличаются по архитектуре и даже по суб-архитектуре. Для более подробной информации вы должны почитать документацию на ваш менеджер загрузки. </para>


<!-- Start of file using-d-i/modules/os-prober.xml -->
<!-- $Id: os-prober.xml 22664 2004-10-06 15:49:49Z fjpop-guest $ -->

   <sect3 id="os-prober">
   <title
>Обнаружение операционных систем</title>

<para
>Перед установкой системного загрузчика программа установки попытается обнаружить другие операционные системы, установленные на машине. Если она обнаружит поддерживаемую операционную систему, об этом будет извещено на шаге установки системного загрузчика, и компьютер будет настроен на загрукзку этой операционной системы в дополнении к Debian. </para
><para
>Надо заметить, что загрузка множества операционных систем на одной машине всё ещё напоминает какое-то тёмное искусство. Автоматическая поддержка обнаружения и настройка системных загрузчиков на загрузку других отличается на разных архитектурах и даже по суб-архитектурахе. Для более подробной информации вы должны почитать документацию на ваш менеджер загрузки. </para>

<note
><para
>Программа установки может не обнаружить операционные системы, если разделы на которых они расположены, уже смонтированы до процедуры обнаружения. Такое может произойти, если в <command
>partman</command
> вы выбрали точку монтирования (например /win) для раздела с другой операционной системой, или если вы смонтировали разделы вручную из консоли. </para
></note>

   </sect3>
<!--   End of file using-d-i/modules/os-prober.xml -->

<!-- Start of file using-d-i/modules/alpha/aboot-installer.xml -->
<!-- $Id: aboot-installer.xml 14602 2004-05-02 16:31:59Z mck-guest $ -->

  <sect3 arch="alpha">
  <title
>Установить <command
>aboot</command
> на жёсткий диск</title>
<para
>Если вы загружаетесь из SRM и выберете этот параметр, то программа установки запишет <command
>aboot</command
> в первый сектор жёсткого диска на котором установлен Debian. Будьте <emphasis
>предельно</emphasis
> осторожны - это <emphasis
>сделает невозможным</emphasis
> загрузку нескольких операционных систем (например, GNU/Linux, Free/Open/NetBSD, OSF/1 также называемый как Digital Unix или Tru64 Unix, или OpenVMS) с того же диска. Если у вас уже есть другие операционные системы на том же диске где установлен Debian, то используйте загрузку GNU/Linux с дискеты. </para>
  </sect3>
<!--   End of file using-d-i/modules/alpha/aboot-installer.xml -->

<!-- Start of file using-d-i/modules/hppa/palo-installer.xml -->
<!-- $Id: palo-installer.xml 14602 2004-05-02 16:31:59Z mck-guest $ -->

  <sect3 arch="hppa">
  <title
>Системный загрузчик <command
>palo</command
></title>
<para
>Системный загрузчик на PA-RISC называется <quote
>palo</quote
>. <command
>PALO</command
> по настройке и использованию, за несколькими исключениями, похож на <command
>LILO</command
>. Прежде всего, <command
>PALO</command
> позволяет загружать любой образ ядра с загрузочного раздела. То есть <command
>PALO</command
> умеет работать с разделами Linux. </para
><para condition="FIXME"
>hppa FIXME ( текст не готов, нужно больше информации ) </para>
  </sect3>
<!--   End of file using-d-i/modules/hppa/palo-installer.xml -->

<!-- Start of file using-d-i/modules/i386/grub-installer.xml -->
<!-- $Id: grub-installer.xml 18640 2004-07-27 21:53:59Z joeyh $ -->

  <sect3 arch="i386">
  <title
>Установить системный загрузчик <command
>Grub</command
> на жёсткий диск</title>
<para
>Основной системный загрузчик для &architecture; называется <quote
>grub</quote
>. Grub гибкий и понятный системный загрузчик и является хорошим выбор по умолчанию для новичков и опытных пользователей. </para
><para
>По умолчанию, grub будет установлен в главную загрузочную запись (MBR), где возьмёт под полный контроль процесс загрузки. Если хотите, можете установить его в другое место. Полную информацию смотрите в руководстве по grub. </para
><para
>Если вы совсем не хотите устанавливать grub, нажмите кнопку Назад, чтобы перейти в главное меню, и там выберите системный загрузчик, который вы хотите использовать. </para>
  </sect3>
<!--   End of file using-d-i/modules/i386/grub-installer.xml -->

<!-- Start of file using-d-i/modules/i386/lilo-installer.xml -->
<!-- $Id: lilo-installer.xml 22935 2004-10-09 18:36:20Z fjpop-guest $ -->

  <sect3 arch="i386">
  <title
>Установить системный загрузчик <command
>LILO</command
> на жёсткий диск</title>
<para
>Второй системный загрузчик для &architecture; называется <quote
>LILO</quote
>. Это старая сложная программа с множеством функций, включая управление загрузкой DOS, Windows и OS/2. Внимательно прочитайте инструкции из каталога <filename
>/usr/share/doc/lilo/</filename
>, если вам нужны эти функции; также посмотрите <ulink url="&url-lilo-howto;"
>LILO mini-HOWTO</ulink
>. </para>
<note
><para
>В данный момент, установка LILO только создаст пункты меню для других операционных систем, если они могут <firstterm
>быть загружены по цепочке</firstterm
>. Это значит, что вы сможете вручную добавить пункты меню для операционных систем, например GNU/Linux и GNU/Hurd, после установки. </para
></note>
<para
>&d-i; предлагает три места куда устанавливать системный загрузчик <command
>LILO</command
>: <variablelist>
<varlistentry>
<term
>Главная загрузочная запись (MBR)</term
><listitem
><para
>Отсюда <command
>LILO</command
> будет полностью контролировать процесс загрузки. </para
></listitem
></varlistentry>
<varlistentry>
<term
>раздел, созданный для Debian</term
><listitem
><para
>Выберите это, если хотите использовать другой менеджер загрузки. <command
>LILO</command
> будет установлен в начало раздела, созданного для Debian и будет играть роль вторичного системного загрузчика. </para
></listitem
></varlistentry>
<varlistentry>
<term
>Другой</term
><listitem
><para
>Полезен для опытных пользователей, которые хотят установить <command
>LILO</command
> куда-то ещё. Вас попросят указать желаемое размещение. Вы можете использовать имена в стиле devfs, то есть те, которые начинаются с <filename
>/dev/ide</filename
>, <filename
>/dev/scsi</filename
> и <filename
>/dev/discs</filename
>, а также традиционные имена, <filename
>/dev/hda</filename
> или <filename
>/dev/sda</filename
>. </para
></listitem
></varlistentry>
</variablelist>

</para
><para
>Если вы не смогли больше загрузить Windows 9x (или DOS) после этого шага, то вам нужно воспользоваться загрузочной дискетой с Windows 9x (MS-DOS) и запустить команду <userinput
>fdisk /mbr</userinput
> для переустановки всей главной загрузочной записи MS-DOS &mdash; однако, это означает, что вам придётся искать какой-то другой способ чтобы попасть обратно в Debian! Более подробно читайте в <xref linkend="reactivating-win"/>. </para>
  </sect3>
<!--   End of file using-d-i/modules/i386/lilo-installer.xml -->

<!-- Start of file using-d-i/modules/ia64/elilo-installer.xml -->
<!-- $Id: elilo-installer.xml 22935 2004-10-09 18:36:20Z fjpop-guest $ -->

  <sect3 arch="ia64">
  <title
>Установить системный загрузчик <command
>ELILO</command
> на жёсткий диск</title>
<para
>Для архитектуры &architecture; системный загрузчик называется <quote
>elilo</quote
>. Он сделан по образу системного загрузчика <quote
>lilo</quote
> для архитектуры x86 и использует похожий конфигурационный файл. Однако, вместо установки в MBR или загрузочную запись раздела, необходимые файлы копируются в отдельный дисковый раздел с файловой системой FAT и модифицируется меню <guimenuitem
>EFI Boot Manager</guimenuitem
> в микропрограмме, указывая на файлы в разделе EFI. Системный загрузчик <command
>elilo</command
> состоит из двух частей. Команда <filename
>/usr/sbin/elilo</filename
> управляет разделом и копирует на него файлы. Программа <filename
>elilo.efi</filename
> копируется в раздел EFI и затем запускается <quote
>менеджером загрузки EFI</quote
>, чтобы загрузить и выполнить ядро Linux. </para
><para
>Настройка и установка <quote
>elilo</quote
> завершится на последнем шаге установки базовых пакетов. &d-i; предложит вам список дисковых разделов, которые он сочтёт подходящими для раздела EFI. Выберите раздел, который вы создали программой установки ранее; обычно этот раздел находится на том же диске что и <emphasis
>корневая</emphasis
> файловая система. </para>

  <warning
><title
>Выберите правильный раздел!</title>

<para
>Критерии выбора раздела: должен иметь файловую систему FAT и установленный флаг <emphasis
>boot</emphasis
>. &d-i; может показать несколько вариантов, в зависимости от того, что найдётся при сканировании всех дисков системы, включая разделы EFI других системных дисков и разделов диагностики EFI. Помните, <command
>elilo</command
> может отформатировать раздел во время установки, стерев его содержимое! </para
></warning>

  </sect3>

  <sect3 arch="ia64">
  <title
>Содержимое EFI раздела</title>

<para
>Раздел EFI &mdash; раздел с файловой системой FAT на одном из жёстких дисков системы, обычно на том же диске, который содержит файловую систему <emphasis
>root</emphasis
>. Обычно, он не монтируется в работающую систему, а только требуется <quote
>менеджеру загрузки EFI</quote
> для загрузки системы, а часть программы установки <command
>elilo</command
> производит запись в файловую систему напрямую. Утилита <command
>/usr/sbin/elilo</command
> записывает следующие файлыв каталог <filename
>efi/debian</filename
> на EFI раздел во время установки. Заметим, что <quote
>менеджер загрузки EFI </quote
> будет искать эти файлы согласно пути <filename
>fs<emphasis
>n</emphasis
>:\efi\debian</filename
>. В файловой системе могут находиться другие файлы на время обновления или настройки системы. </para>

<variablelist>

<varlistentry>
<term
><filename
>elilo.conf</filename
></term>
<listitem
><para
>Данный конфигурационный файл читается системным загрузчиком при запуске. Это копия <filename
>/etc/elilo.conf</filename
> с изменёнными путями, указывающими на файлы в EFI разделе. </para
></listitem
></varlistentry>

<varlistentry>
<term
><filename
>elilo.efi</filename
></term>
<listitem
><para
>Это файл программы системного загрузчика, который <quote
>менеджер загрузки EFI</quote
> стартует для запуска системы. Эта программа также скрывается за элементом меню <guimenuitem
>Debian GNU/Linux</guimenuitem
> в меню команд <quote
>менеджер загрузки EFI</quote
>. </para
></listitem
></varlistentry>

<varlistentry>
<term
><filename
>initrd.img</filename
></term>
<listitem
><para
>Это файл начальной корневой файловой системы(initial root filesystem), используемой для загрузки ядра. Это копия файла, на который есть ссылка из <filename
>/etc/elilo.conf</filename
>. В стандартной установке Debian этот файл находится в <filename
>/boot</filename
>, и на него указывает символическая ссылка <filename
>/initrd.img</filename
>. </para
></listitem
></varlistentry>

<varlistentry>
<term
><filename
>readme.txt</filename
></term>
<listitem
><para
>Это маленький текстовый файл, предупреждающий, что содержимое каталога управляется из <command
>elilo</command
> и что любые локальные изменения будут уничтожены при следующем запуске <filename
>/usr/sbin/elilo</filename
>. </para
></listitem
></varlistentry>

<varlistentry>
<term
><filename
>vmlinuz</filename
></term>
<listitem
><para
>Это файл с сжатым ядром. Это копия файла, на который естьссылка в <filename
>/etc/elilo.conf</filename
>. В стандартной установке Debian этот файл находится в <filename
>/boot</filename
>, и на него указывает символическая ссылка <filename
>/vmlinuz</filename
>. </para
></listitem
></varlistentry>

</variablelist>

  </sect3>
<!--   End of file using-d-i/modules/ia64/elilo-installer.xml -->

<!-- Start of file using-d-i/modules/mips/arcboot-installer.xml -->
<!-- $Id: arcboot-installer.xml 22939 2004-10-09 23:27:48Z ths-guest $ -->

  <sect3 arch="mips">
  <title
>Системный загрузчик <command
>arcboot</command
></title>
<para
>Системный загрузчик на SGI Indys называется <command
>arcboot</command
>. Он будет установлен на тот же жёсткий диск что и ядро (выполняется программой установки автоматически). Arcboot имеет несколько конфигураций, которые хранятся в файле <filename
>/etc/arcboot.conf</filename
>. Каждая конфигурация имеет уникальное имя, та что создаётся программой установки называется <quote
>linux</quote
>. После установки arcboot, система может загружаться с жёсткого диска, если набрать в приглашении микропрограммы<informalexample
><screen>

<userinput
> setenv SystemPartition scsi(<replaceable
>scsi</replaceable
>)disk(<replaceable
>disk</replaceable
>)rdisk(0)partition(0)</userinput>
<userinput
> setenv OSLoadPartition scsi(<replaceable
>scsi</replaceable
>)disk(<replaceable
>disk</replaceable
>)rdisk(0)partition(<replaceable
>partnr</replaceable
>)</userinput>
<userinput
> setenv OSLoader arcboot</userinput>
<userinput
> setenv OSLoadFilename <replaceable
>config</replaceable
></userinput>
<userinput
> setenv AutoLoad yes</userinput>

</screen
></informalexample
>, и затем ввести<command
>boot</command
>. </para>

<variablelist>
<varlistentry>
<term
> <replaceable
>scsi</replaceable
> </term>
<listitem
><para
>это шина SCSI, с которой будет производиться загрузка, равно <userinput
>0</userinput
> для встроенных контроллеров </para
></listitem>
</varlistentry>
<varlistentry>
<term
> <replaceable
>disk</replaceable
> </term>
<listitem
><para
>это SCSI ID жёсткого диска, на котором установлен <command
>arcboot</command
> </para
></listitem>
</varlistentry>
<varlistentry>
<term
> <replaceable
>partnr</replaceable
> </term>
<listitem
><para
>это номер раздела, на котором хранится <filename
>/etc/arcboot.conf</filename
> </para
></listitem>
</varlistentry>
<varlistentry>
<term
> <replaceable
>config</replaceable
> </term>
<listitem
><para
>это имя конфигурации в <filename
>/etc/arcboot.conf</filename
>, по умолчанию <quote
>linux</quote
>. </para
></listitem>
</varlistentry>
</variablelist>

  </sect3>
<!--   End of file using-d-i/modules/mips/arcboot-installer.xml -->

<!-- Start of file using-d-i/modules/mipsel/colo-installer.xml -->
<!-- $Id: colo-installer.xml 14337 2004-04-24 15:05:40Z mck-guest $ -->
<!--   End of file using-d-i/modules/mipsel/colo-installer.xml -->

<!-- Start of file using-d-i/modules/mipsel/delo-installer.xml -->
<!-- $Id: delo-installer.xml 14602 2004-05-02 16:31:59Z mck-guest $ -->

  <sect3 arch="mipsel">
  <title
>Системный загрузчик <command
>delo</command
></title>
<para
>Системный загрузчик для DECstations называется <command
>DELO</command
>. Он будет установлен на тот же жёсткий диск что и ядро (выполняется программой установки автоматически). DELO имеет несколько конфигураций, которые хранятся в файле <filename
>/etc/delo.conf</filename
>. Каждая конфигурация имеет уникальное имя, та что создаётся программой установки называется <quote
>linux</quote
>. После установки DELO, система может загружаться с жёсткого диска, если набрать в приглашении микропрограммы <informalexample
><screen>

<userinput
>boot <replaceable
>#</replaceable
>/rz<replaceable
>id</replaceable
> <replaceable
>partnr</replaceable
>/<replaceable
>name</replaceable
></userinput>

</screen
></informalexample
>. </para>

<variablelist>
<varlistentry>
<term
> <replaceable
>#</replaceable
> </term>
<listitem
><para
>это устройство TurboChannel, с которого будет выполняться загрузка, для большинства DECstations имеет значение <userinput
>3</userinput
> для встроенных контроллеров </para
></listitem>
</varlistentry>
<varlistentry>
<term
> <replaceable
>id</replaceable
> </term>
<listitem
><para
>это SCSI ID жёсткого диска, на котором установлен <command
>DELO</command
> </para
></listitem>
</varlistentry>
<varlistentry>
<term
> <replaceable
>partnr</replaceable
> </term>
<listitem
><para
>это номер раздела, на котором хранится <filename
>/etc/delo.conf</filename
> </para
></listitem>
</varlistentry>
<varlistentry>
<term
> <replaceable
>name</replaceable
> </term>
<listitem
><para
>это имя конфигурации в <filename
>/etc/delo.conf</filename
>, по умолчанию <quote
>linux</quote
>. </para
></listitem>
</varlistentry>
</variablelist>

<para
>Если <filename
>/etc/delo.conf</filename
> хранится на первом разделе диска и должна быть загружена конфигурация по умолчанию, то достаточно набрать <informalexample
><screen
><userinput
>boot #/rz<replaceable
>id</replaceable
></userinput
>

</screen
></informalexample>

</para>
  </sect3>
<!--   End of file using-d-i/modules/mipsel/delo-installer.xml -->

<!-- Start of file using-d-i/modules/powerpc/yaboot-installer.xml -->
<!-- $Id: yaboot-installer.xml 14975 2004-05-08 13:28:15Z mck-guest $ -->

  <sect3 arch="powerpc">
  <title
>Установить <command
>Yaboot</command
> на жёсткий диск</title>
<para
>Новые (с середины 1998 и новее) PowerMacs используют <command
>yaboot</command
> в качестве своих системных загрузчиков. Программа установки настроит <command
>yaboot</command
> автоматически, поэтому всё, что вам нужно это маленький 820k раздел с именем <quote
>bootstrap</quote
> и типом <emphasis
>Apple_Bootstrap</emphasis
>, созданный ранее компонентой разбивки. Если этот шаг завершился удачно, то ваш диск должен стать загрузочным и OpenFirmware установлена на загрузку &debian;. </para>
  </sect3>
<!--   End of file using-d-i/modules/powerpc/yaboot-installer.xml -->

<!-- Start of file using-d-i/modules/powerpc/quik-installer.xml -->
<!-- $Id: quik-installer.xml 14975 2004-05-08 13:28:15Z mck-guest $ -->

  <sect3 arch="powerpc">
  <title
>Установить <command
>Quik</command
> на жёсткий диск</title>
<para
>Системный загрузчик для машин OldWorld Power Macintosh называется <command
>quik</command
>. Также, вы можете использовать его на CHRP. Программа установки попытается настроить <command
>quik</command
> автоматически. Известно, что это сработает на 7200, 7300 и 7600 Powermacs и на некоторых клонах Power Computing. </para>
  </sect3>
<!--   End of file using-d-i/modules/powerpc/quik-installer.xml -->

<!-- Start of file using-d-i/modules/s390/zipl-installer.xml -->
<!-- $Id: zipl-installer.xml 14602 2004-05-02 16:31:59Z mck-guest $ -->

  <sect3 arch="s390">
  <title
>Установить <command
>zipl</command
></title>
<para
>Системный загрузчик для &arch-title; называется <quote
>zipl</quote
>. <command
>ZIPL</command
> по настройке и использованию, за некоторыми исключениями, похож на <command
>LILO</command
>. Посмотрите <quote
>Драйверы устройств и команды установки LINUX на &arch-title;</quote
> на вебсайте IBM developerWorks, если хотите узнать больше о <command
>ZIPL</command
>. </para>
  </sect3>
<!--   End of file using-d-i/modules/s390/zipl-installer.xml -->

<!-- Start of file using-d-i/modules/sparc/silo-installer.xml -->
<!-- $Id: silo-installer.xml 16467 2004-05-30 08:11:23Z mck-guest $ -->

  <sect3 arch="sparc">
  <title
>Установить системный загрузчик <command
>SILO</command
> на жёсткий диск</title>
<para
>Стандартный системный загрузчик для &architecture; называется <quote
>silo</quote
>. Его документация лежит в каталоге <filename
>/usr/share/doc/silo/</filename
>. <command
>SILO</command
> по настройке и использованию, за некоторыми исключениями, похож на <command
>LILO</command
>. Прежде всего, <command
>SILO</command
> позволяет вам загружать любой образ ядра с диска, даже если его не в <filename
>/etc/silo.conf</filename
>. То есть <command
>SILO</command
> умеет работать с разделами Linux. Также, <filename
>/etc/silo.conf</filename
> читается в загрузки, поэтому не нужно перезапускать <command
>silo</command
> после установки нового ядра, в отличии от <command
>LILO</command
>. <command
>SILO</command
> может также читать с разделов UFS, то есть оо может загружать разделы SunOS/Solaris. Это полезно, если вы хотите установить GNU/Linux рядом с существующим SunOS/Solaris. </para>
  </sect3>
<!--   End of file using-d-i/modules/sparc/silo-installer.xml -->

<!-- Start of file using-d-i/modules/nobootloader.xml -->
<!-- $Id: nobootloader.xml 23662 2004-11-07 21:29:33Z fjpop-guest $ -->

   <sect3 id="nobootloader">
   <title
>Продолжить без системного загрузчика</title>

<para
>Эта опция может быть использована для завершения установки даже без установленного системного загрузчика, по причине или для этой архитектуры/субархитектуры его нет или потомучто он вам не нужен (например, чтобы использовать существующий системный загрузчик). <phrase arch="m68k"
>Эта опция особенно полезна для машин Macintosh, Atari, и Amiga, где родная операционная система должна управлять компьютером и использоваться для загрузки GNU/Linux.</phrase
> </para
><para
>Если вы планируете настраивать системный загрузчик вручную, то должны проверить имя устанавливаемого ядра из <filename
>/target/boot</filename
>. Также, проверьте существование каталога <firstterm
>initrd</firstterm
>; если он есть, то вероятно, нужно указать это в системном загрузчике, чтобы он использовал его. Ещё вам потребуется знать диск и раздел, который выбран в качестве <filename
>/</filename
> файловой системы и, если вы выбрали установку с отдельным разделом <filename
>/boot</filename
>, то также и файловую систему <filename
>/boot</filename
>. </para>
   </sect3>
<!--   End of file using-d-i/modules/nobootloader.xml -->
  </sect2>

  <sect2 id="di-finish">
  <title
>Завершение первой стадии</title>
<para
>Перед перезагрузкой в ваш новый Debian надо сделать несколько последних штрихов. В основном они состоят из уборки за &d-i;. </para>


<!-- Start of file using-d-i/modules/prebaseconfig.xml -->
<!-- $Id: prebaseconfig.xml 21672 2004-09-15 10:55:50Z fjpop-guest $ -->

   <sect3 id="prebaseconfig">
   <title
>Завершение установки и перезагрузка</title>

<para
>Это последний шаг первой стадии процесса установки Debian. Вам предложат вынуть загрузчный носитель (CD, дискету, другие), который использовался для загрузки программы установки. Программа установки выполнит завершающие действия, и затем перезагрузит машину в новую систему Debian. </para
><para arch="s390"
>Выберите в меню <guimenuitem
>Завершить установку</guimenuitem
>, чтобы остановить систему, так как перезагрузка не поддерживается на &arch-title; в данном случае. Затем вам нужен IPL GNU/Linux из DASD, который вы выбрали в качестве корневой файловой системы в самом начале установки. </para>
   </sect3>
<!--   End of file using-d-i/modules/prebaseconfig.xml -->
  </sect2>

  <sect2 id="di-miscellaneous">
  <title
>Разное</title>
<para
>Перечисленные в этой секции компоненты обычно не вызываются в процесси установки, но они ожидают на фоне, чтобы помочь пользователю в случае, если что-то пойдет не так. </para>


<!-- Start of file using-d-i/modules/bugreporter.xml -->
<!-- $Id: bugreporter.xml 21579 2004-09-13 22:57:14Z fjpop-guest $ -->

   <sect3 id="bugreporter">
   <title
>Сохранение протокола установки</title>

<para
>Если установка прошла успешно, файлы протокола установки, созданные во время процесса установки, будут автоматически записаны в <filename
>/var/log/debian-installer/</filename
> на новой системе Debian. </para
><para
>Выбор <guimenuitem
>Сохранить файлы журнала с отладочной информацией</guimenuitem
> из главного меню позволяет записать файлы протокола на дискету. Это может быть полезно, если вы обнаружили неустранимую проблему при установке и хотите изучить протокол на другой системе или послать его вместе с отчётом об ошибке. </para>
   </sect3>
<!--   End of file using-d-i/modules/bugreporter.xml -->

<!-- Start of file using-d-i/modules/cdrom-checker.xml -->
<!-- $Id: cdrom-checker.xml 14337 2004-04-24 15:05:40Z mck-guest $ -->
<!--   End of file using-d-i/modules/cdrom-checker.xml -->

<!-- Start of file using-d-i/modules/shell.xml -->
<!-- $Id: shell.xml 21579 2004-09-13 22:57:14Z fjpop-guest $ -->

   <sect3 id="shell">
   <title
>Использование командной строки и просмотр журнальных файлов</title>
   <!-- TODO: There is nothing about logs in this section! -->

<para
>В меню есть пункт <guimenuitem
>Войти в режим командной строки</guimenuitem
>. Если меню недоступно, а вам нужна командная строка, нажмите <keycombo
><keycap
>левый Alt</keycap
> <keycap
>F2</keycap
></keycombo
> (на клавиатурах Mac, <keycombo
><keycap
>Option</keycap
> <keycap
>F2</keycap
> </keycombo
>) чтобы перейти на вторую <emphasis
>вирутальную консоль</emphasis
>. Надо нажать клавишу <keycap
>Alt</keycap
> слева от клавиши <keycap
>пробела</keycap
> и функциональную клавишу <keycap
>F2</keycap
>одновременно. В этом отдельном окне выполняется клон оболочки командной строки Bourne, называемый <command
>ash</command
>. </para
><para
>В данный момент, вы загрузились с RAM диска и имеете ограниченный набор Unix утилит. Вы можете выяснить какие программы доступны с помощью команды <command
>ls /bin /sbin /usr/bin /usr/sbin</command
> или набрав <command
>help</command
>. Текстовый редактор называется <command
>nano</command
>.Оболочка командной строки имеет некоторые полезные свойства, такие как автодополнение и история команд. </para
><para
>Для выполнения любой задачи используйте меню &mdash; режимом командной строки нужно пользоваться только в крайнем случае если что-то идёт не так. В частности, вы всегда должны использовать меню, а не командную строку для активизации раздела подкачки, так как программа меню не сможет определить, что вы это сделали из командной строки. Нажмите <keycombo
><keycap
>левый Alt</keycap
> <keycap
>F1</keycap
></keycombo
> чтобы вернуться в меню, или наберите <command
>exit</command
>, если использовали меню для входа в режим командной строки. </para>
   </sect3>
<!--   End of file using-d-i/modules/shell.xml -->

<!-- Start of file using-d-i/modules/baseconfig.xml -->
<!-- $Id: baseconfig.xml 21579 2004-09-13 22:57:14Z fjpop-guest $ -->

   <sect3 id="baseconfig">
   <title
>Запуск <command
>base-config</command
> из &d-i;</title>

<para
>Есть возможность настроить базовую систему на первой стадии программы установки (перед перезагрузкой с жёсткого диска), запустив <command
>base-config</command
> в <firstterm
>chroot</firstterm
> среде. В основном, это полезно для отладки программы установки и большинству людей не нужно так делать. </para>
   </sect3>
<!--   End of file using-d-i/modules/baseconfig.xml -->
  </sect2>
 </sect1>
<!--   End of file using-d-i/components.xml -->

</chapter>

<!--   End of file using-d-i/using-d-i.xml -->
