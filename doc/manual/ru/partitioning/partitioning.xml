<!-- Start of file partitioning/partitioning.xml -->
<!-- $Id: partitioning.xml 11648 2004-03-22 00:37:46Z joeyh $ -->

<appendix id="partitioning">
<title
>Разметка для Debian</title>


<!-- Start of file partitioning/sizing.xml -->
<!-- $Id: sizing.xml 11648 2004-03-22 00:37:46Z joeyh $ -->


 <sect1 id="partition-sizing">
 <title
>Про разделы Debian и их размеры</title>
<para
>Как минимум, для GNU/Linuxтребуются один раздел. Вы можете иметьединственный раздел, содержащий всю операционную систему, приложения и ваши личные файлы. Большинство людей считают, что также необходим раздел подкачки,хотя это не совсем правда. <quote
>Раздел подкачки (swap)</quote
> это рабочее пространство для операционной системы, который позволяет использовать дисковое хранилищев качестве <quote
>виртуальной памяти</quote
>. Выделенный для подкачки отдельный раздел, Linux способен использовать более эффективно. Возможно заставить Linux использоватьдля подкачки обычный файл, но это не рекомендуется. </para
><para
>Однако большинство людей выделяют под GNU/Linux более минимального числа разделов. Есть две причины, по которым возможно вы захотите разделить файловую систему на несколько маленьких разделов. Первая, это безопасность. Если что-то повредится в файловой системе, пострадает только один раздел. То есть, вам нужно будет восстановить(из резервной копии, которую вы заботливо храните) только часть системы. Как минимум, вам нужно создать так называемый <quote
>корневой раздел</quote
>. Он содержит наиболее важные компоненты системы. Если любой другой раздел будет повреждён, вы всё равно сможете загрузиться в GNU/Linux чтобы починить систему. Это может спасти вас от неприятной переустановки системы с нуля. </para
><para
>Вторая причина обычно больше важна для бизнеса, но она на самом деле зависит от использования машины. Например, почтовый сервер, получая спам, может легко переполнить раздел письмами. Если вы сделаете для<filename
>/var/mail</filename
> отдельный раздел на почтовом сервере, большинство систем отстануться работать даже если вас заспамят. </para
><para
>Единственным настоящим препятствием по использованию нескольких разделов является то, что часто трудно предсказать размер, который для них нужно выбрать. Если вы сделаете раздел слишком маленьким, то вам придётся или переустанавливать всю систему или постоянно перемещать файлы из-за карликовости раздела. С другой стороны, если сделаете раздел слишком большим, то потратите лишнее место, которое могло пригодиться где-нибудь ещё. В наши дни дисковое пространство дёшево, но зачем выбрасывать деньги на ветер? </para>
 </sect1>
<!--   End of file partitioning/sizing.xml -->

<!-- Start of file partitioning/tree.xml -->
<!-- $Id: tree.xml 11648 2004-03-22 00:37:46Z joeyh $ -->


 <sect1 id="directory-tree">
 <title
>Дерево каталогов</title>
<para
>&debian; придерживается <ulink url="&url-fhs-home;"
>Filesystem Hierarchy Standard</ulink
> для каталогов и имён файлов. Этот стандарт позволяет пользователям и программному обеспечению быть уверенным в расположении файлов и каталогов. Уровень корневого каталога представляется просто косой чертой <filename
>/</filename
>. На корневом уровне, все системы Debian содержат следующие каталоги: <informaltable
> <tgroup cols="2">
<thead>
<row>
  <entry
>Каталог</entry
><entry
>Содержимое</entry>
</row>
</thead>

<tbody>
<row>
  <entry
><filename
>bin</filename
></entry>
  <entry
>Весьма важные исполняемые команды</entry>
</row
><row>
  <entry
><filename
>boot</filename
></entry>
  <entry
>Статичные файлы системного загрузчика</entry>
</row
><row>
  <entry
><filename
>dev</filename
></entry>
  <entry
>Файлы устройств</entry>
</row
><row>
  <entry
><filename
>etc</filename
></entry>
  <entry
>Настройки системы данной машины</entry>
</row
><row>
  <entry
><filename
>home</filename
></entry>
  <entry
>Домашние каталоги пользователей</entry>
</row
><row>
  <entry
><filename
>lib</filename
></entry>
  <entry
>Весьма важные библиотеки общего пользования и модули ядра</entry>
</row
><row>
  <entry
><filename
>mnt</filename
></entry>
  <entry
>Точки монтирования для временно монтируемых файловых систем</entry>
</row
><row>
  <entry
><filename
>proc</filename
></entry>
  <entry
>Виртуальный каталог для системной информации</entry>
</row
><row>
  <entry
><filename
>root</filename
></entry>
  <entry
>Домашний каталог суперпользователя</entry>
</row
><row>
  <entry
><filename
>sbin</filename
></entry>
  <entry
>Весьма важные системные исполняемые файлы</entry>
</row
><row>
  <entry
><filename
>tmp</filename
></entry>
  <entry
>Временные файлы</entry>
</row
><row>
  <entry
><filename
>usr</filename
></entry>
  <entry
>Вторичная иерархия</entry>
</row
><row>
  <entry
><filename
>var</filename
></entry>
  <entry
>Изменяемые данные</entry>
</row
><row>
  <entry
><filename
>opt</filename
></entry>
  <entry
>Дополнительное программное обеспечение</entry>
</row>
</tbody
></tgroup
></informaltable>
</para>

<para
>Далее следует список важных предположений относительно каталогов и разделов. </para>
<itemizedlist>
<listitem
><para
>Корневой раздел <filename
>/</filename
> всегда должен физически содержать<filename
>/etc</filename
>, <filename
>/bin</filename
>, <filename
>/sbin</filename
>, <filename
>/lib</filename
> и <filename
>/dev</filename
>, иначе невозможно будет загрузиться. Обычно, для корневого раздела требуется 100 МБ, но этот размер может варьироваться. </para
></listitem>
<listitem
><para
>В <filename
>/usr</filename
> хранятся: все пользовательские программы (<filename
>/usr/bin</filename
>) , библиотеки (<filename
>/usr/lib</filename
>), документация (<filename
>/usr/share/doc</filename
>) и так далее. Этой части файловой системы требуется много места. Вы должны выделить как минимум 500 МБ дискового пространства. Если вы захотите установить ещё пакеты, то должны увеличивать место для этого каталога. </para
></listitem>
<listitem
><para
>Каталог <filename
>/home</filename
>: каждый пользователь будет размещать данные в своём подкаталоге этого каталога. Его размер зависит от количества пользователей в системе и какие файлы они будут хранить в своих каталогах. В зависимости от планируемого использования вы должны зарезервировать около 100МБ для каждого пользователя, но подгоняйте это значения под свои требования. </para
></listitem>
<listitem
><para
>Каталог <filename
>/var</filename
> содержит все изменяющиеся данные типа новостных статей, электронной почты, веб сайтов, кэша системы пакетов и т.д. Размер каталога целиком зависит от степени использования компьютера, но для большинства людей он определяется нагрузкой на систему управления пакетами. Если собираетесь сделать установку всего, что предлагает Debian, всё за раз, то размер 2 или 3 гигабайта для <filename
>/var</filename
>должно хватить. Если вы собираетесьустанавливаться частями (то есть, установить сервисы и утилиты, потом программы для работы с текстом, потом X, ...), то вы можете ужаться до 300 - 500 мегабайт в <filename
>/var</filename
>. Если пространство жёсткого диска дорого и вы не планируете делать глобальных обновлений системы, то вам будет достаточно 30 или 40 мегабайт для <filename
>/var</filename
>. </para
></listitem>
<listitem
><para
><filename
>/tmp</filename
>: если программа создаёт временные данные, то они скорее всего будут в <filename
>/tmp</filename
>. 20-50МБ обычно достаточно. </para
></listitem>
</itemizedlist>

 </sect1>
<!--   End of file partitioning/tree.xml -->

<!-- Start of file partitioning/schemes.xml -->
<!-- $Id: schemes.xml 18917 2004-08-08 20:38:32Z joeyh $ -->


 <sect1>
 <title
>Рекомендуемые схемы разметки</title>
<para
>Для новичков, устанавливающих Debian только для себя, на домашние машины, создание единственного раздела для <filename
>/</filename
> (плюс раздел подкачки) вероятно, самый лёгкий и простой путь. Однако, если ваш раздел более 6ГБ, выберите ext3 в качестве типа раздела. Разделы Ext2 требуют периодической проверки целостности файловой системы, а это на больший разделах может вызывать паузу при загрузке. </para
><para
>Для многопользовательских систем или систем с много большим дисковым пространством, будет лучше создать для<filename
>/usr</filename
>, <filename
>/var</filename
>, <filename
>/tmp</filename
> и <filename
>/home</filename
> свои собственные разделы, отдельные отраздела <filename
>/</filename
>. </para
><para
>Вам может потребоваться отдельный <filename
>/usr/local</filename
> раздел, если вы планируете установку многих программ, которые не являются частью дистрибутива Debian. Если ваша машина будет почтовым сервером, вам может потребоваться сделать отдельный you <filename
>/var/mail</filename
> раздел. Часто, выделение <filename
>/tmp</filename
> в отдельный раздел размером от 20 до 50МБ тоже неплохо. Если вы настраиваете сервер, для большого количества пользователей, обычно, хорошо иметь отдельный большой <filename
>/home</filename
> раздел. В общем, ситуация с разметкой зависит от цели, которой служит комьютер. </para
><para
>Для очень сложных систем, вы должны прочитать <ulink url="&url-multidisk-howto;"
> Multi Disk HOWTO</ulink
>. В нём содержится детальная информация, наиболее интересная для провайдеров Интернет и людёй, настраивающих серверы. </para
><para
>На счёт размера раздела подкачки, существует много точек зрения. Чисто практический метод , который хорошо себя зарекомендовал, говорит что размер подкачки должен совпадать с размером оперативной памяти. Также, в большинстве случаев он должен быть не менее 16МБ. Естественно, есть исключения из этих правил. Если вы пытаетесь одновременно решить 10000 уравнений на машине с 256МБ памяти, то вам может потребоваться гигабайтный (или больше) раздел подкачки. </para
><para arch="m68k"
>С другой стороны, Atari Falcon и Mac не нравится свопиться, поэтому вместо создания большего раздела подкачки, добавьте оперативной памяти сколько сможете. </para
><para
>На 32-битных архитектурах (i386, m68k, 32-bit SPARC и PowerPC), максимальный рамер раздела подкачки равен 2ГБ. Этого должно хватить почти для любого варианта установки. Однако, если ваши требования в разделу подкачки так высоки, то вероятно, будет лучше попытаться разместить пространство подкачки на несколько дисков (так называемых <quote
>шпинделей</quote
>) и, если возможно, на разные SCSI или IDE каналы. Ядро будет балансировать нагрузку между различными разделами подкачки, давая большую производительность. </para
><para
>Например старая домашняя машинаимеет 32МБ оперативной памяти и 1.7ГБ жёсткий диск IDE (<filename
>/dev/hda</filename
>). Здесь можно сделать 500МБ раздел для другой операционной системы (<filename
>/dev/hda1</filename
>), 32МБ раздел подкачки(<filename
>/dev/hda3</filename
>) и около 1.2ГБ (<filename
>/dev/hda2</filename
>) под раздел Linux. </para
><para
>Про то, как будет использовано место можно увидеть в задачах, которые вы можете захотеть установить после установки системы; смотрите <xref linkend="tasksel-size-list"/>. </para>

 </sect1>
<!--   End of file partitioning/schemes.xml -->

<!-- Start of file partitioning/device-names.xml -->
<!-- $Id: device-names.xml 18767 2004-07-31 14:14:52Z mck-guest $ -->


 <sect1 id="device-names">
 <title
>Имена устройств в Linux</title>
<para
>Имена дисков и разделов в Linux могут отличаться от других операционных систем. Вам нужно знать какие имена использются в Linux для того чтобы создавать и монтировать разделы. Вот основы схемы именования: </para>
<itemizedlist arch="not-s390">
<listitem
><para
>Первый дисковод гибких дисков называется <filename
>/dev/fd0</filename
>. </para
></listitem>
<listitem
><para
>Второй дисковод гибких дисков называется <filename
>/dev/fd1</filename
>. </para
></listitem>
<listitem
><para
>Первый SCSI диск (отсчитывая по SCSI ID) называется <filename
>/dev/sda</filename
>. </para
></listitem>
<listitem
><para
>Второй SCSI диск (отсчитывая по SCSI ID) называется <filename
>/dev/sdb</filename
> и так далее. </para
></listitem>
<listitem
><para
>Первый SCSI CD-ROM называется <filename
>/dev/scd0</filename
>, также равнозначно <filename
>/dev/sr0</filename
>. </para
></listitem>
<listitem
><para
>Мастер диск первичного IDE контроллера называется <filename
>/dev/hda</filename
>. </para
></listitem>
<listitem
><para
>Подчинённый диск первичного IDE контроллера называется <filename
>/dev/hdb</filename
>. </para
></listitem>
<listitem
><para
>Мастер и подчинённый диски вторичного контроллера доступны по именам <filename
>/dev/hdc</filename
> и <filename
>/dev/hdd</filename
> соответственно.Новые IDE контроллеры могут на самом деле иметь два канала, эффективно действуя как два независимых контроллера. <phrase arch="m68k"
> Буквы в mac программе pdisk могут быть другими (то есть, <filename
>/dev/hdc</filename
> в pdisk может быть как <filename
>/dev/hda</filename
> в Debian). </phrase
> </para
></listitem>

<listitem arch="i386"
><para
>Первый XT диск называется <filename
>/dev/xda</filename
>. </para
></listitem>
<listitem arch="i386"
><para
>Второй XT диск называется <filename
>/dev/xdb</filename
>. </para
></listitem>
<listitem arch="m68k"
><para
>Первое устройство ACSI называется <filename
>/dev/ada</filename
>, второе имеет название<filename
>/dev/adb</filename
>. </para
></listitem>
</itemizedlist>

<itemizedlist arch="s390">
<listitem
><para
>Первое устройство DASD называется <filename
>/dev/dasda</filename
>. </para
></listitem>
<listitem
><para
>Второе устройство DASD называется <filename
>/dev/dasdb</filename
>и так далее. </para
></listitem>
</itemizedlist>

<para arch="not-s390"
>Имена разделов диска получаются добавлением к имени диска десятичного числа: <filename
>sda1</filename
> и <filename
>sda2</filename
> представляют первый и второй разделы на первом диске SCSI в системе. </para
><para arch="not-s390"
>Вот реальный пример. Предположим, что вы имеете систему с 2 SCSI дисками, один имеетSCSI адрес 2, а другой SCSI адрес 4. Первый диск (с адресом 2) называется <filename
>sda</filename
>, а второй <filename
>sdb</filename
>. Если диск <filename
>sda</filename
> содержит 3 раздела, то их имена будут <filename
>sda1</filename
>, <filename
>sda2</filename
> и <filename
>sda3</filename
>. То же относится кдиску <filename
>sdb</filename
> и его разделам. </para
><para arch="not-s390"
>Заметим, что если вы имеете два адаптера SCSI (то есть, контроллера), то порядок дисков может смутить. Лучшее решение в этом случае посмотреть загрузочные сообщения, предполагается, что вы знаете модели дисков и/или их объём. </para
><para arch="i386"
>В Linux первичные разделы представляются как имя диска плюс число от1 до 4. Например, первый первичный раздел первого IDE диска называется <filename
>/dev/hda1</filename
>. Логические разделы нумеруются начиная с 5, поэтому первый логический раздел на том же диске называется<filename
>/dev/hda5</filename
>. Помните, что это расширенный раздел, то есть первичный раздел содержащий логические разделы, сам по себе не используется. Это применимо и к дискам SCSI и к дискам IDE. </para
><para arch="m68k"
>Системы VMEbus использующие TEAC FC-1 SCSI дисковод гибких дисков видится как обычный SCSI. Чтобы упростить идентификацию этого дисковода, программа установки создаст символическую ссылку на соотвествующее устройство с именем<filename
>/dev/sfd0</filename
>. </para
><para arch="sparc"
>На дисках Sun можно создать 8 отдельных разделов (или слайсов). Третий раздел обычно(и желательно так делать) является разделом типа ``весь диск''. Этот раздел указывает на все сектора диска, и используется системным загрузчиком (или SILO или от Sun). </para
><para arch="s390"
>Имена разделов диска получаются добавлением к имени диска десятичного числа: <filename
>dasda1</filename
> и <filename
>dasda2</filename
> представляют первый и второй раздел первого устройства DASD в системе. </para>
 </sect1>
<!--   End of file partitioning/device-names.xml -->

<!-- Start of file partitioning/partition-programs.xml -->
<!-- $Id: partition-programs.xml 11648 2004-03-22 00:37:46Z joeyh $ -->

 <sect1 id="partition-programs">
 <title
>Программы разметки в Debian</title>
<para
>Несколько разновидностей программ разметки были адаптированы разработчиками Debian для работы с различными типами жёстких дисков и компьютерных архитектур. Следующий список программ разметки пригоден для вашей архитектуры. </para>

<variablelist>

<varlistentry>
<term
><command
>partman</command
></term>
<listitem
><para
>Рекомендуемая утилита разметки в Debian. Это швейцарский армейский нож может также создавать файловые системы <phrase arch="i386"
> (<quote
>format</quote
>в Windows) </phrase
> и назначать им точки монтирования. </para
></listitem>
</varlistentry>

<varlistentry condition="fdisk.txt">
<term
><command
>fdisk</command
></term>
<listitem
><para
>Первоначальная программа разметки дисков в Linux, хороша для гуру; читайте <ulink url="fdisk.txt"
>страницу руководства по fdisk</ulink
> . </para
><para
>Будьте осторожны, если у вас на машине есть разделы FreeBSD. В устанавливаемые ядра включена поддержка этих разделов, но метод, которым<command
>fdisk</command
> их отображает(или нет) может отличаться. Смотрите <ulink url="&url-linux-freebsd;"
>Linux+FreeBSD HOWTO</ulink
> </para
></listitem>
</varlistentry>

<varlistentry condition="cfdisk.txt">
<term
><command
>cfdisk</command
></term>
<listitem
><para
>Простая в использовании, полноэкранная программа разметки дисков для всех остальных; читайте <ulink url="cfdisk.txt"
>страницу руководства cfdisk</ulink
>. </para
><para
>Заметим, что <command
>cfdisk</command
> не понимает разделов FreeBSD совсем, и ещё раз, в результате имена устройств могут различаться. </para
></listitem>
</varlistentry>

<varlistentry condition="atari-fdisk.txt">
<term
><command
>atari-fdisk</command
></term>
<listitem
><para
>Версия <command
>fdisk</command
> для Atari; читайте <ulink url="atari-fdisk.txt"
>страницу руководства atari-fdisk</ulink
>. </para
></listitem>
</varlistentry>

<varlistentry condition="amiga-fdisk.txt">
<term
><command
>amiga-fdisk</command
></term>
<listitem
><para
>Версия <command
>fdisk</command
> для Amiga; читайте <ulink url="amiga-fdisk.txt"
>страницу руководства amiga-fdisk</ulink
>. </para
></listitem>
</varlistentry>

<varlistentry condition="mac-fdisk.txt">
<term
><command
>mac-fdisk</command
></term>
<listitem
><para
>Версия <command
>fdisk</command
> для Mac; читайте <ulink url="mac-fdisk.txt"
>страницу руководства mac-fdisk</ulink
>. </para
></listitem>
</varlistentry>

<varlistentry condition="pmac-fdisk.txt">
<term
><command
>pmac-fdisk</command
></term>
<listitem
><para
>Версия <command
>fdisk</command
> для PowerMac, также используется в системах BVM иMotorola VMEbus; читайте <ulink url="pmac-fdisk.txt"
>страницу руководства pmac-fdisk</ulink
>. </para
></listitem>
</varlistentry>

<varlistentry condition="fdasd.txt">
<term
><command
>fdasd</command
></term>
<listitem
><para
>&arch-title; версия <command
>fdisk</command
>; Подробней читайте <ulink url="fdasd.txt"
>страницу руководства fdasd</ulink
> или главу 13 в <ulink url="http://oss.software.ibm.com/developerworks/opensource/linux390/docu/l390dd08.pdf"
> Драйвера устройств и команды установки</ulink
>. </para
></listitem>
</varlistentry>
</variablelist>

<para
>Одна из этих программ будет запущена по умолчанию при выборе<guimenuitem
>Разметить жёсткий диск</guimenuitem
>. Если запустилось не то что вы хотите, выйдите из программы разметки, перейдите в оболочку(<userinput
>tty2</userinput
>) нажав клавиши <keycap
>Alt</keycap
> и<keycap
>F2</keycap
> вместе, и вручную введите название программы, которой хотите воспользоваться (и аргументы, если надо). Затем пропустите шаг<guimenuitem
>Разметить жёсткий диск</guimenuitem
> в <command
>debian-installer</command
> и перейдите к следующему шагу. </para
><para
>Если вы будете работать с более чем 20 разделами на ide диске, то вам нужно создать устройства для 21 раздела и далее. Следующий шаг инициализации раздела завершится неудачно, если устройств не будет. В качестве примера, вот команды, которые вы можете использовать на <userinput
>tty2</userinput
> или через запуск оболочки для добавления 21 раздела: <informalexample
><screen>
cd /dev
mknod hda21 b 3 21 
chgrp disk hda21
chmod 660 hda21
</screen
></informalexample
> Загрузка в новую систему завершится неудачно, если в системе не будет нужных устройств. После установки ядра и модулей, выполните: <informalexample
><screen
>cd /target/dev
mknod hda21 b 3 21 
chgrp disk hda21
chmod 660 hda21
</screen
></informalexample>

</para
><para arch="i386"
>Не забудьте сделать раздел загрузочным, установив флаг ``Загрузочный''. </para
><para condition="mac-fdisk.txt"
>О том как создавать разделы смотрите <ulink url="mac-fdisk.txt"
>страницу руководства mac-fdisk</ulink
>. Один важный пункт: раздел подкачки в Mac распознаётся по имени; он должен называться `swap'. Все разделы Mac linux имеют один тип раздела, Apple_UNIX_SRV2. Пожалуйста, прочитайте документацию. Также, мы советуем прочитать<ulink url="&url-mac-fdisk-tutorial;"
>Введение в mac-fdisk</ulink
>, который содержит шаги, которые вы должны выполнить если хотите использовать этотдиск совместно с MacOS. </para>


<!-- Start of file partitioning/partition/alpha.xml -->
<!-- $Id: alpha.xml 23683 2004-11-08 08:31:32Z vorlon $ -->


  <sect2 arch="alpha"
><title
>Разметка для &arch-title;</title>
<para
>Booting Debian from the SRM console (the only disk boot method supported by &releasename;) requires you to have a BSD disk label, not a DOS partition table, on your boot disk. (Remember, the SRM boot block is incompatible with MS-DOS partition tables - see <xref linkend="alpha-firmware"/>.) As a result, <command
>partman</command
> creates BSD disk labels when running on &architecture;, but if your disk has an existing DOS partition table the existing partitions will need to be deleted before partman can convert it to use a disk label. </para
><para
>If you have chosen to use <command
>fdisk</command
> to partition your disk, and the disk that you have selected for partitioning does not already contain a BSD disk label, you must use the `b' command to enter disk label mode. </para
><para
>Если вы не хотите использовать диск с разметкой для Tru64 Unix или одного из свободных 4.4BSD-Lite клонов операционных систем (FreeBSD, OpenBSD, или NetBSD), советуем вам <emphasis
>не</emphasis
> делать третий раздел, содержащий весь диск. Это не нужно для <command
>aboot</command
>, и фактически, может привести в замешательство, когда утилита <command
>swriteboot</command
>, используемая для установки <command
>aboot</command
> в загрузочный сектор, пожалуется на раздел, который перекрывается с загрузочным сектором. </para
><para
>Also, because <command
>aboot</command
> is written to the first few sectors of the disk (currently it occupies about 70 kilobytes, or 150 sectors), you <emphasis
>must</emphasis
> leave enough empty space at the beginning of the disk for it. In the past, it was suggested that you make a small partition at the beginning of the disk, to be left unformatted. For the same reason mentioned above, we now suggest that you do not do this on disks that will only be used by GNU/Linux. When using <command
>partman</command
>, a small partition will still be created for <command
>aboot</command
> for convenience reasons. </para
><para condition="FIXME"
>Для установки на ARC, вы должны сделать маленький раздел FAT в начале диска для хранения <command
>MILO</command
> и <command
>linload.exe</command
> - 5 мегабайт должно хватить, смотрите <xref linkend="non-debian-partitioning"/>. К сожалению, создание файловой системы FAT из меню пока не работает, поэтому вы должны сделаьт это вручную из командной строки с помощью <command
>mkdosfs</command
> перед попыткой установить системный загрузчик. </para>
  </sect2>
<!--   End of file partitioning/partition/alpha.xml -->

<!-- Start of file partitioning/partition/hppa.xml -->
<!-- $Id: hppa.xml 11648 2004-03-22 00:37:46Z joeyh $ -->


  <sect2 arch="hppa"
><title
>Разметка для &arch-title;</title>
<para
>PALO, системный загрузчик на HPPA, требует тип раздела <quote
>F0</quote
> расположенный в пределах первых 2ГБ. На нём будут храниться системный загрузчик и необязательно ядро и RAMдиск, поэтому он должен быть достаточно большим -- около 4МБ (мне нравится 8-16МБ). Дополнительные требования микропрограммы: ядро Linux должно располагаться на первых 2ГБ диска. Это, обычно, достигается созданием корневого раздела ext2, полностью размещаемого в пределах первых 2ГБ диска. Или же вы можете создать маленький раздел ext2 в начале диска и затем смонтировать его как <filename
>/boot</filename
>, так как в этом каталоге в Linux хранятся ядра. <filename
>/boot</filename
> должен быть достаточно большим, чтобы вместить все ядра, которые вы хотите загрузить; 8-16МБ обычно хватает. </para>
  </sect2>
<!--   End of file partitioning/partition/hppa.xml -->

<!-- Start of file partitioning/partition/i386.xml -->
<!-- $Id: i386.xml 11648 2004-03-22 00:37:46Z joeyh $ -->


  <sect2 arch="i386"
><title
>Разметка для &arch-title;</title>
<para
>PC BIOS обычно накладывает дополнительные ограничения на дисковую разметку. Есть ограничение на количество <quote
>первичных</quote
> и <quote
>логических</quote
> разделов, которые может содержать диск. Также, в BIOS 1994-98 годов, есть ограничения, откуда BIOS может производить загрузку. Подробную информацию можно найти в <ulink url="&url-partition-howto;"
>Разметка в Linux HOWTO</ulink
> и <ulink url="&url-phoenix-bios-faq-large-disk;"
>Phoenix BIOS FAQ</ulink
>, но в этом разделе будет дано краткое описание, чтобы помочь во многих ситуациях. </para
><para
><quote
>Первичные</quote
> разделы присутствовали в первоначальной схеме разметки дисков на PC. Однако, их может быть только четыре. Чтобы обойти это ограничение, были придуманы <quote
>расширенные</quote
> и <quote
>логические</quote
> разделы. Пометив один из первичных разделов как расширенный, вы можете поделить всё его пространство на логические разделы. Вы можете создать до 60 логических разделов на расширенном разделе; однако, вы можете иметь только один расширенный раздел на диске. </para
><para
>Linux ограничивает количество разделов до 15 на SCSI дисках (3 используемых первичныхраздела, 12 логических разделов), и 63 раздела на IDE дисках (3 используемых первичных раздела, 60 логических разделов). Однако, обычная система &debian; предоставляется только 20 устройств под разделы, поэтому вы не сможете произвести установку на раздел выше чем 20, если только сначала вручную не создадите устройства для этих разделов. </para
><para
>Если вы имеете большой IDE диск, и не используете ни LBA адресацию, ни драйвера поддержки(иногда предоставляемые производителями жёстких дисков), то загрузочный раздел (раздел, содержащий образ ядра) должен располагаться с пределах первых1024 цилиндров жёсткого диска (обычно, это 524 мегабайта без BIOS трансляции). </para
><para
>Это ограничение нет в BIOS новее1995-98 годов(зависит от проиводителя), которые поддерживают <quote
>Enhanced Disk Drive Support Specification</quote
>. И Lilo, Linux загрузчик, и Debian альтернатива<command
>mbr</command
>, должны использовать BIOS для чтения ядра с диска в оперативную память. Если будет найдено расширение прерывания BIOS int 0x13 доступа к диску, то оно будет использовано. Иначе, будет использован обычный старый интерфейс доступа к диску, и не будут использованы адреса, расположенные на диске за 1023-им цилиндром. После загрузки Linux, не важно какой BIOS имеется в компьютере, эти ограничения больше не действуют, так как Linux не использует BIOS для доступа к диску. </para
><para
>Если вы имеете большой диск, то вы можете использовать технологию трансляции цилиндров, которую вы можете включить в BIOS, она называется LBA (логическая адресация блоков) или режим трансляции CHS (<quote
>Large</quote
>). Подробную информацию о проблемах с большими жёсткими дисками можно найти в <ulink url="&url-large-disk-howto;"
>HOWTO по большим дискам</ulink
>. Если вы используете схему трансляции цилиндров, а BIOS не поддерживает расширения доступа к большим жёстким дискам, то ваш загрузочный раздел должен попадать в<emphasis
>транслированное</emphasis
> представление1024-х цилиндров. </para
><para
>Рекомендуемый путь выполнения этого условия, это создать маленький (5-10МБ должно хватить) раздел в начале диска, для использования в качестве загрузочного раздела, а затем создавать любые разделы какие нужно, в оставшейся области. Загрузочный раздел <emphasis
>должен</emphasis
> быть смонтированв <filename
>/boot</filename
>, так как это каталог хранения ядрер Linux . Такая конфигурация будет работать на любой системе, независимо используются ли трансляции LBA больших дисков CHS, и независимо от того поддерживает ли BIOS расширение для доступа к большим дискам. </para>
  </sect2>
<!--   End of file partitioning/partition/i386.xml -->

<!-- Start of file partitioning/partition/ia64.xml -->
<!-- $Id: ia64.xml 18660 2004-07-28 04:49:59Z dannf $ -->


  <sect2 arch="ia64"
><title
>Разметка для &arch-title;</title>

<para
>Программа для дисковой разметки <command
>partman</command
> является инструментом разметки по умолчанию для программы установки. Она управляет имеющимися разделами и их точками монтирования, чтобы проверить, что диски и файловые системы настроены правильно для успешной установки. На самом деле для разметки используется программа <command
>parted</command
>. </para>

   <note>
   <title
>Распознаваемые EFI форматы</title>
<para
>Микропрограмма EIF на IA64 поддерживает два формата таблицы разделов (или метки диска), GPT и MS-DOS. MS-DOS обычно используется на i386 PC, не рекомендуется для систем IA64. Хотя в программу установки включён<command
>cfdisk</command
>, вы должны использовать только <ulink url="parted.txt"
> <command
>parted</command
></ulink
>, так как только она может работать корректно и с таблицами GPT и с MS-DOS. </para
></note>

<para
>При автоматическом способе разметки <command
>partman</command
> создаётEFI раздел первым на диске. Также вы можете создать раздел с помощью<guimenuitem
>Направляющая разметка</guimenuitem
> из главного меню тем же способом, каким вы создавали раздел <emphasis
>swap</emphasis
>. </para
><para
>Программа разметки <command
>partman</command
> справится с большинством вариантов разметки. В тех редких случаев, когда необходимо вручную разметить диск, вы можете использоватьоболочку как описано выше и запустить утилиту <command
>parted</command
> прямо из командной строки. Если предположить, что вы хотите стереть весь диск и создатьGPT таблицу с несколькими разделами, то для этого нужно использовать примерно такую последовательность команд: </para
><para>
<informalexample
><screen
>mklabel gpt
      mkpartfs primary fat 0 50
      mkpartfs primary linux-swap 51 1000
      mkpartfs primary ext2 1001 3000
      set 1 boot on
      print
      quit

</screen
></informalexample>
</para
><para
>Таким образом создастся таблица разделов и три раздела будут использоваться в качествезагрузочного раздела EFI, раздела swap и корневой файловой системы. Наконец, установится флаг загрузкуи на раздел EFI. Разделы заданы в мегабайтах, в виде смещения начала и конца от начала диска. В примере мы создали файловую систему ext2 размером 1999МБ, начиная со смещения 1001МБ от начала диска. Заметим, что форматирование swap раздела с помощью <command
>parted</command
> может занять несколько минут, так как происходит сканирование плохих блоков. </para>
  </sect2>

  <sect2 arch="ia64"
><title
>Требования к разделу системного загрузчика</title>

<para
>ELILO, системному загрузчику на ia64, требуется раздел, содержащий файловую систему FAT с установленным флагом <userinput
>загрузочный</userinput
>. Раздел должен быть достаточно большим, чтобы вместить системный загрузчик и какое-нибудь ядро или RAMдиск, который вы хотели бы загрузить. Минимальный размер должен быть около 20МБ, но если вы хотите загружать разные ядра, то лучше чтобы было 128МБ. </para
><para
>Системный загрузчик EFI и оболочка EFI полностью поддерживают GPT таблицу, поэтому загрузочный раздел необязательно должен быть первым разделом или даже на первом диске. Это удобно, если вы забыли создать раздел, и выяснили это только после того как уже отформатировали другие разделы на жёстком диске(ах). Программа разметки <command
>partman</command
> проверяет EFI раздел одновременно с проверкой правильности <emphasis
>корневого</emphasis
> раздела. Это даёт вам возможность исправить разметку диска перед началом установки пакетов. Самый лёгкий способ исправить это упущение &mdash; уменьшить последный раздел диска, освободив достаточно свободного места для добавления раздела EFI. </para
><para
>Настоятельно рекомендуется создавать загрузочный раздел EFI на одном диске с <emphasis
>корневой</emphasis
> файловой системой. </para>

  </sect2>

  <sect2 arch="ia64"
><title
>Разделы диагностики EFI</title>

<para
>Микропрограмма EFI значительно более сложна чем обычный BIOS на большинствекомпьютеров x86. Некоторые поставщики систем пользуются способностями EFI доступа к файлам и запуском программы с файловой системы жёсткого диска для хранения утилит диагностики иуправления основанных на EFI на жёстком диске. Это отдельный раздел с файловой системой FAT  на системном диске. Подробней мотрите документацию на систему и принадлежности, которые идут вместе с системой. Правильней будет создать раздел диагностики в тоже время что и загрузочный раздел EFI. </para>

   </sect2>
<!--   End of file partitioning/partition/ia64.xml -->

<!-- Start of file partitioning/partition/mips.xml -->
<!-- $Id: mips.xml 22939 2004-10-09 23:27:48Z ths-guest $ -->


  <sect2 arch="mips"
><title
>Разметка для &arch-title;</title>
<para
>SGI Indys требуется метка диска SGI чтобы сделать систему загружаемой с жёсткого диска. Это можно сделать из экспетрного меню в fdisk. Таким образом создаваемыйзаголовок тома(раздел номер 9) должен быть как минимум 3МБ. Если заголовок тома создан слишком маленьким, вы можете просто удалить раздел номер 9 и добавить его с другим размером. Заметим, что заголовок тома должен начинаться с нулевого сектора. </para>
  </sect2>
<!--   End of file partitioning/partition/mips.xml -->

<!-- Start of file partitioning/partition/powerpc.xml -->
<!-- $Id: powerpc.xml 23146 2004-10-16 14:20:10Z cjwatson $ -->


  <sect2 arch="powerpc"
><title
>Разметка новых PowerMac</title>
<para
>Если вы производите установку на NewWorld PowerMac, то вы должны создать специальный загрузочный раздел для системного загрузчика. Размер этого раздела должен быть800КБ, а его тип <emphasis
>Apple_Bootstrap</emphasis
>. Если этот раздел создан без типа<emphasis
>Apple_Bootstrap</emphasis
>, то вашу машину нельзя будет загрузить с жёсткого диска. Этот раздел можно легко создать, создав новый раздел в программе <command
>partman</command
> и указав, что его нужно использовать в качестве<quote
>загрузочного раздела NewWorld</quote
>, или с помощью <command
>mac-fdisk</command
> используя команду <userinput
>b</userinput
>. </para
><para
>Специальный тип раздела Apple_Bootstrap требуется для предотвращения монтирования и повреждения загрузочного раздела MacOS, так как это изменение в OpenFirmware для автоматической загрузки. </para
><para
>Заметим, что этот загрузочный раздел нужен только для хранения 3 очень маленьких файлов: двоичный <command
>yaboot</command
>, его конфигурация <filename
>yaboot.conf</filename
> и первая часть загрузчика OpenFirmware <command
>ofboot.b</command
>. Его не нужно и он не должен быть смонтирован в файловую систему, на него не нужно копировать ядра и что-то другое. Для работы с этим разелом используются утилиты <command
>ybin</command
> и <command
>mkofboot</command
>. </para
><para
>Чтобы OpenFirmware автоматически загружал &debian; этот специальный загрузочный раздел должен располагаться перед любыми другими загрузочными разделами на диске, особенно перед загрузочным разделом MacOS. Специальный загрузочный раздел должен быть создан первым. Однако, если вы добавите специальный загрузочный раздел позднее, то можете воспользоваться в программе <command
>mac-fdisk</command
> командной <userinput
>r</userinput
>, что преобразовать карту разделов для того чтобы специальный загрузочный раздел располагался сразу после карты (которая всегда является разделом 1). Это всего лишь логическое изменение, а не изменение физических адресов, что важно. </para
><para
>Диски Apple обычно содержат несколько маленьких разделов драйверов. Если вы хотите иметь двойную загрузку машины MacOSX, то нужно оставить эти разделы и маленьких раздел HFS (800к его минимальный размер). Это нужно для того чтобы MacOSX при каждой загрузке не предлагал инициализировать диски, которые не содержат активных разделов MacOS и разделов драйверов. </para>
  </sect2>
<!--   End of file partitioning/partition/powerpc.xml -->

<!-- Start of file partitioning/partition/sparc.xml -->
<!-- $Id: sparc.xml 11648 2004-03-22 00:37:46Z joeyh $ -->


  <sect2 arch="sparc"
><title
>Разметка для &arch-title;</title>
<para
>Проверьте, что создали <quote
>Sun disk label</quote
> на загрузочном диске. OpenBoot PROM понимает только один тип схемы разметки, и поэтому это единственная схема, с которой возможна загрузка. Для создания Sun disk label в <command
>fdisk</command
> используется клавиша <keycap
>s</keycap
>. </para
><para
>Кроме того, на дисках &arch-title;, убедитесь, что первый раздел загрузочного диска начинается с цилиндра 0. Так это обязательно, отсюда следует, что первый раздел будет содержать таблицу разделов и загрузочный блок, который занимает первые два сектора диска. Вы <emphasis
>не</emphasis
> должны делать раздел подкачки первым разделом загрузочного диска, так как разделы подкачки не сохраняют неизменными первые несколько секторов раздела. Вы можете здесь сделать разделы Ext2 или UFS; они не трогают таблицу разделов и загрузочный блок. </para
><para
>Также посоветуем, чтобы у третьего раздела был тип <quote
>Весь диск</quote
> (тип 5), и содержал весь диск целиком (от первого цилиндра до последнего). Это является простым соглашением в Sun disk label и помогает системному загрузчику<command
>SILO</command
> загружаться. </para>
  </sect2>
<!--   End of file partitioning/partition/sparc.xml -->

 </sect1>




<!--   End of file partitioning/partition-programs.xml -->

</appendix>
<!--   End of file partitioning/partitioning.xml -->
