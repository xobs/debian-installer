<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- $Id$ -->
<!-- original version: 1.5 -->

 <sect2 arch="alpha" id="alpha-firmware">
 <title>Firmware do Console Alpha</title>
<para>

O firmware do console é armazenado em uma flash ROM e iniciado 
quando sistema Alpha é ligado ou reiniciado. Existem dois tipos
diferentes de especificações de consoles usados nos sistemas Alpha, 
e duas classes de firmwares de consoles disponíveis:

</para>

<itemizedlist>
<listitem><para>

  <emphasis>console SRM</emphasis>, baseado no subsistema de console 
  da especificação Alpha, que oferece um ambiente operacional para o 
  OpenVMS, UNIX Tru64 e sistema operacional Linux.

</para></listitem>
<listitem><para>

  <emphasis>ARC, AlphaBIOS, ou console ARCSBIOS </emphasis>, baseado na
  especificação Avançada de computação RISC (ARC), que oferece um ambiente
  operacional para o Windows NT.

</para></listitem>
</itemizedlist>

<para>

Da perspectiva do usuário, a diferença mais importante entre o 
SRM e o ARC é que a escolha do console se restringem a possibilidade
do esquema de particionamento do disco rígido a partir do qual 
inicializou.

</para><para>

O ARC requer que utilize uma tabela de partição MS-DOS (como
criada pelo comando <command>cfdisk</command>) para o disco de inicialização.
As tabelas de partição MS-DOS são partições no formato "nativo" quando
inicializa através do ARC. De fato, pois o AlphaBIOS contém um utilitário
de particionamento de disco, você pode preferir particionar seus discos
através dos menus da firmware antes de instalar o Linux.

</para><para>

De modo oposto, o SRM é <emphasis>incompatível</emphasis> com tabelas
de partição do MS-DOS.
<footnote><para>Especificamente, o formato do setor de inicialização
requerida pela especificação do subsistema conflita com a substituição
da tabela de partição do DOS.</para></footnote> Pois sistemas Unix Tru64
usam o formato BSD de volume de disco, este é o formato nativo de partições para
as instalações SRM.

</para><para>

Por causa que o GNU/Linux é o único sistema operacional no Alpha que
pode ser inicializado através de ambos os tipos de console, a 
escolha também depende de qual outro sistema operacional você irá
executa na mesma máquina. Todos os outros sistemas operacionais
estilo Unix (Tru64, Unix, FreeBSD, OpenBSD e NetBSD) e OpenVMS 
apenas podem ser inicializados através da SRM, enquanto o Windows
NT somente pode inicializar através do ARC.

</para><para>

A seguinte tabela resume os sistemas disponíveis e suportados
entre as combinações de tipo/console (veja <xref linkend="alpha-cpus"/> 
para os nomes dos tipos de sistema). A palavra "ARC" abaixo denota
qualquer um dos tipos de consoles compatíveis com o ARC.

</para><para>

<informaltable><tgroup cols="2">
<thead>
<row>
  <entry>Tipo de Sistema</entry>
  <entry>Tipo de Console Suportado</entry>
</row>
</thead>

<tbody>
<row>
  <entry>alcor</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>avanti</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>book1</entry>
  <entry>somente SRM</entry>
</row><row>
  <entry>cabriolet</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>dp264</entry>
  <entry>somente o SRM</entry>
</row><row>
  <entry>eb164</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>eb64p</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>eb66</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>eb66p</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>jensen</entry>
  <entry>somente o SRM</entry>
</row><row>
  <entry>lx164</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>miata</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>mikasa</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>mikasa-p</entry>
  <entry>somente o SRM</entry>
</row><row>
  <entry>nautilus</entry>
  <entry>somente o ARC (veja o manual da placa mãe)</entry>
</row><row>
  <entry>noname</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>noritake</entry>
  <entry>somente o SRM</entry>
</row><row>
  <entry>noritake-p</entry>
  <entry>somente o SRM</entry>
</row><row>
  <entry>pc164</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>rawhide</entry>
  <entry>somente o SRM</entry>
</row><row>
  <entry>ruffian</entry>
  <entry>somente o ARC</entry>
</row><row>
  <entry>sable</entry>
  <entry>somente o SRM</entry>
</row><row>
  <entry>sable-g</entry>
  <entry>somente o SRM</entry>
</row><row>
  <entry>sx164</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>takara</entry>
  <entry>ARC ou SRM</entry>
</row><row>
  <entry>xl</entry>
  <entry>somente o ARC</entry>
</row><row>
  <entry>xlt</entry>
  <entry>ARC ou o  SRM</entry>
</row>

</tbody>
</tgroup>
</informaltable>

</para><para>

Geralmente, nenhum destes consoles podem inicializar o Linux 
diretamente, desta forma é requerida a assistência de um gerenciador
de partida intermediário. Existem dois gerenciadores principais
no Linux: <command>MILO</command> and <command>aboot</command>.

</para><para>

O <command>MILO</command> por si próprio é um console, que substitui 
o ARC ou SRM na memória. O <command>MILO</command> pode ser diretamente
inicializado a partir do ARC e SRM e é o único método de iniciar o 
Linux no console ARC.
O <command>MILO</command> é específico de plataforma (um <command>MILO</command>
diferente é necessário para cada tipo de sistema) e existe somente para 
estes sistemas, no qual o suporte ao ARC é mostrado na tabela acima. 
Veja também o (infelizmente desatualizado)
<ulink url="&url-milo-howto;">MILO HOWTO</ulink>.

</para><para>

O <command>aboot</command> é um gerenciador de partida pequeno e 
independente de plataforma que somente roda a partir do SRM. 
Veja o (também infelizmente desatualizado) <ulink
url="&url-srm-howto;">SRM HOWTO</ulink> para mais informações sobre o 
<command>aboot</command>.

</para><para>

Assim, três cenários são possíveis, dependendo do firmware do 
console do sistema e se o <command>MILO</command> estiver ou não
disponível:

<informalexample><screen>

SRM -> aboot
SRM -> MILO
ARC -> MILO

</screen></informalexample>

</para><para>

A placa mãe UP1000 (com o nome de sub-arquitetura "nautilus") do 
processador Alpha, Inc. é diferente de todas as outras, pois ele 
utiliza um gerenciador de partira específico de API que 
é executado sobre a firmware AlphaBIOS.

</para><para>

Por causa que o <command>MILO</command> não está disponível para qualquer 
um dos sistemas alpha atualmente em produção (em Fevereiro de 2000) e 
porque ele não é mais necessária a compra de licenças OpenVMS ou 
Unix Tru64 para ter uma firmware SRM em seu antigo Alpha, é recomendado
que você use o SRM e o <command>aboot</command> em novas instalações do
GNU/Linux, a não ser que deseje fazer dupla inicialização com o 
Windows NT.

</para><para>

A maioria dos servidores Alpha e todas os produtos servidores e estações 
contém ambos o SRM e o AlphaBIOS em sua firmware. Para máquinas
"falf-flash" tal como as várias placas de avaliação. É possível
mudar de uma versão para outra regravando a firmware. Também, 
assim que o SRM estiver instalado, é possível executar o
ARC/AlphaBIOS a partir de um disquete (usando o comando <command>arc</command>).  
Pelas razões mencionadas acima, nós recomendamos mudar para o SRM antes
de instalar a &debian;.

</para><para>

Como em outras arquiteturas, você deverá instalar a revisão mais
nova disponível de sua firmware <footnote><para>Com excessão das Jensen, 
onde o Linux não é suportado nas versões de firmwares mais novas que
a 1.7 - Veja <ulink url="&url-jensen-howto;"></ulink> para mais
informações</para></footnote> Antes de instalar a  &debian;. Para a 
Alpha, as atualizações de firmware podem ser obtidas de
<ulink url="&url-alpha-firmware;">Atualizações de Firmwares do Alpha</ulink>.

</para>
 </sect2>


  <sect2 arch="alpha"><title>Inicializando com o TFTP</title>
<para>

No SRM, as interfaces Ethernet são nomeadas com o prefixo <userinput>ewa</userinput>, 
e será listada na saída do comando <userinput>show dev</userinput>,
como este (levemente editado):

<informalexample><screen>

>>>show dev
ewa0.0.0.9.0               EWA0              08-00-2B-86-98-65
ewb0.0.0.11.0              EWB0              08-00-2B-86-98-54
ewc0.0.0.2002.0            EWC0              00-06-2B-01-32-B0

</screen></informalexample>

Você precisará ajustar o protocolo de inicialização:
<informalexample><screen>

>>> set ewa0_protocol bootp

</screen></informalexample>

Então verifique se o tipo de mídia está correto:

<informalexample><screen>

>>> set ewa0_mode <replaceable>mode</replaceable>

</screen></informalexample>

Você poderá obter uma listagem de modos válidos com <userinput>>>>set ewa0_mode</userinput>.

</para><para>

Então, para inicializar através da primeira interface Ethernet, você poderá
digitar:

<informalexample><screen>

>>> boot ewa0

</screen></informalexample>

</para><para>

Se deseja usar uma console serial, você <emphasis>deve</emphasis>
passar o argumento <userinput>console=</userinput> ao kernel.
Isto pode ser feito usando o argumento <userinput>-flags</userinput> 
ao comando <userinput>boot</userinput> do console SRM. As portas 
seriais tem o mesmo nome dos seus arquivos correspondentes em 
<userinput>/dev</userinput>. Por exemplo, para inicializar 
através de <userinput>ewa0</userinput> e usar uma console na 
primeira porta serial, você deverá digitar: 

<informalexample><screen>

>>> boot ewa0 -flags console=ttyS0

</screen></informalexample>

</para>
  </sect2>

  <sect2 arch="alpha"><title>Inicializando através de um CD-ROM com o console SRM</title>
<para>

Digite

<informalexample><screen>

&gt;&gt;&gt; boot xxxx -flags 0

</screen></informalexample>

onde <replaceable>xxxx</replaceable> é sua unidade de CD-ROM
na notação do SRM.

</para>
  </sect2>

  <sect2 arch="alpha">
  <title>Inicializando através de um CD-ROM com o ARC ou console AlphaBIOS</title>
<para>

Para inicializar através de um CD-ROM a partir do console ARC, encontre
seu nome de código de sub-arquitetura (veja <xref linkend="alpha-cpus"/>), 
então digite <filename>\milo\linload.exe</filename> como gerenciador de 
inicialização e <filename>\milo\<replaceable>subarch</replaceable></filename> 
(aonde <replaceable>subarch</replaceable> é o nome de sub-arquitetura apropriada)
como caminho do OS no menu "OS Selection Setup". Ruffians fez uma 
excessão: você precisará usar <filename>\milo\ldmilo.exe</filename> como
gerenciador de partida.

</para>
  </sect2>


  <sect2 arch="alpha">
  <title>Inicialização através de Disquetes com o Console SRM</title>
<para>

No aviso de comando do SRM (<prompt>&gt;&gt;&gt;</prompt>), digite o seguinte
comando:

<informalexample><screen>

&gt;&gt;&gt; boot dva0 -flags 0
        
</screen></informalexample>

Possivelmente substituindo <filename>dva0</filename> com o nome de 
dispositivo atual. Normalmente <filename>dva0</filename> é o disquete; digite

<informalexample><screen>

&gt;&gt;&gt; show dev
        
</screen></informalexample>

para ver a lista de dispositivos (e.g., caso deseje inicializar a partir de 
uma unidade de CD).
Note que se se estiver inicializando através do MILO, o argumento
<command>-flags</command> será ignorado, assim você poderá só digitar
<command>boot dva0</command>.
Se tudo funcionar bem, você verá o kernel do Linux iniciando.

</para><para>

Se quiser especificar parâmetros de inicialização do 
kernel via <command>aboot</command>, use o seguinte comando:
<informalexample><screen>

&gt;&gt;&gt; boot dva0 -file linux.bin.gz -flags "root=/dev/fd0 load_ramdisk=1 argumentos"
        
</screen></informalexample>
(digite um por linha), substituindo, se necessário, o nome atual
do dispositivo de inicialização SRM por <filename>dva0</filename>, 
o nome do dispositivo de inicialização do Linux por
<filename>fd0</filename> e os parâmetros designados do kernel por
<filename>argumentos</filename>.

</para><para>

Se desejar especificar parâmetros do kernel quando inicializar via
<command>MILO</command>, você terá que interromper o processo de 
inicialização assim que entrar no MILO. Veja <xref linkend="booting-from-milo"/>.
</para>
  </sect2>


  <sect2 arch="alpha">
  <title>Inicializando a partir de Disquetes com o Console ARC ou AlphaBIOS</title>

<para>

No menu de seleção de sistema operacional, defina o <command>linload.exe</command> 
como gerenciador de partida e <command>milo</command> como o caminho do 
sistema operacional. Inicie usando a nova entrada criada.

</para>
  </sect2>

  <sect2 arch="alpha">
  <title>Inicializando através de disquetes com o gerenciador de partida APB (UP1000)</title>

<para>

Para inicializar nesta plataforma, execute <command>\apb\apb.exe</command> a 
partir do menu "Utility/Run Maintenance Program" e digite
      <informalexample><screen>

boot debian_install
      
</screen></informalexample>
 no aviso de comando do APB.

</para>
  </sect2>

 <sect2 arch="alpha" id="booting-from-milo"><title>Inicializando com o MILO</title>
<para>

O MILO contido na mídia de inicialização está configurado par a
prosseguir para o Linux automaticamente. Caso deseje intervir, tudo
que precisa fazer é pressionar espaço durante a contagem regressiva 
do MILO.

</para><para>

Caso deseje especificar todos os bits explicitamente (por exemplo, 
para fornecer parâmetros adicionais), você poderá usar um comando
como este:

<informalexample><screen>

MILO&gt; boot fd0:linux.bin.gz root=/dev/fd0 load_ramdisk=1 <!-- argumentos -->
        
</screen></informalexample>

</para><para>

Se estiver inicializando através de alguma outra mídia que não seja 
um disquete, substitua <filename>fd0</filename> do exemplo acima com
o nome de dispositivo apropriado na notação do Linux. O comando 
<command>help</command> deve lhe dar uma breve referência do MILO.

</para>
 </sect2>

